@{
    @model ViewModels.LinguisticSupplier.LinguistViewModel ;

    @using System.Text.Json;

}
@section HeadBlock {
    <link rel="stylesheet" media="screen, print" href="~/css/miscellaneous/reactions/reactions.css">
    <link rel="stylesheet" media="screen, print" href="~/css/miscellaneous/fullcalendar/fullcalendar.bundle.css">
    <link rel="stylesheet" media="screen, print" href="~/css/miscellaneous/jqvmap/jqvmap.bundle.css">
    <link rel="stylesheet" media="screen, print" href="~/css/formplugins/ion-rangeslider/ion-rangeslider.css">
    <link rel="stylesheet" media="screen, print" href="~/css/fa-regular.css">
    <link rel="stylesheet" media="screen, print" href="~/css/formplugins/bootstrap-datepicker/bootstrap-datepicker.css">
    <link rel="stylesheet" media="screen, print" href="~/css/formplugins/select2/select2.bundle.css">
    <link rel="stylesheet" media="screen, print" href="~/css/datagrid/datatables/datatables.bundle.css">
}
@{
    var contact = "only the individual contact ";
    var org = "any contacts at the organisation ";
    var orgGroup = "any contacts at any organisation within the group ";
}
@{
    var loopID = 0;
    var count = 0;
}

<div class="row">
    <div class="col text-center">
        <h3>Linguistic supplier </h3>
    </div>
</div>

<div class="row">
    <div class="panel-content" style="width:100%">

        <div id="js-page-content">
            <div class="row">
                <div class="col-12">
                    <div id="panel-8" class="panel" data-panel-lock="false" data-panel-close="false" data-panel-fullscreen="false" data-panel-collapsed="false">
                        <div class="panel-hdr">
                            <i class="fal fa-info-circle fa-2x color-black color-black"></i> &nbsp; &nbsp;
                            <h2>Linguist info</h2>
                        </div>
                        <br />
                        @if (Model.Gdprstatus == 2)
                        {
                            <div class="form-group col-sm-12 row" style="margin-bottom:0.5rem">
                                <div class="col-sm-12" style="margin-bottom:0.5rem">
                                    <label class="form-label d-flex align-items-center col-sm-12" style="font-size: 25px; color: red;"> <i class="far fa-times-circle" style="color:red;font-size: 20px;"></i>&nbsp;&nbsp; Do Not CONTACT!</label>
                                </div>
                                <div class="col-sm-12" style="margin-bottom:0.5rem">
                                    <label class="form-label d-flex align-items-center col-sm-12" style="font-size: 20px; color: red;">This linguist does Not wish To be contacted And has rejected To be In compliance With GDPR. Therefore their details have been blanked out As we cannot contact them.</label>
                                </div>
                            </div>
                        }
                        else if (Model.Gdprstatus == 0)
                        {
                            <div class="form-group col-sm-12 row" style="margin-bottom:0.5rem">
                                <div class="col-sm-12" style="margin-bottom:0.5rem">
                                    <label class="form-label d-flex align-items-center col-sm-12" style="font-size: 25px; color: red;"> <i class="far fa-times-circle" style="color:red;font-size: 20px;"></i>&nbsp;&nbsp; Do Not CONTACT!</label>
                                </div>
                                <div class="col-sm-12" style="margin-bottom:0.5rem">
                                    <label class="form-label d-flex align-items-center col-sm-12" style="font-size: 20px; color: red;">This linguist has Not responded To our request To be In compliance With GDPR, And they don't have any existing business relations with us. Therefore their details have been blanked out as we cannot contact them.</label>
                                </div>
                            </div>
                        }

                        @*else if (Model.SupplierStatusId == 6)
                            {
                                <div class="form-group col-sm-12 row" style="margin-bottom:0.5rem">
                                    <div class="col-sm-12" style="margin-bottom:0.5rem">
                                        <label class="form-label d-flex align-items-center col-sm-12" style="font-size: 25px; color: red;"> <i class="far fa-times-circle" style="color:red;font-size: 20px;"></i>&nbsp;&nbsp; Do Not CONTACT!</label>
                                    </div>
                                    <div class="col-sm-12" style="margin-bottom:0.5rem">
                                        <label class="form-label d-flex align-items-center col-sm-12" style="font-size: 20px; color: red;">This linguist does Not wish To be contacted And has rejected To be In compliance With GDPR. Therefore their details have been blanked out As we cannot contact them.</label>
                                    </div>
                                </div>
                            }*@

                        @if (Model.NeedApprovalToBeAddedToDb == true)
                        {
                            if (Model.FindLinguistByNameEmailAddOrSkype != null)
                            {
                                <div class="form-group col-sm-12 row" style="margin-bottom:0.5rem">
                                    <div class="col-sm-12" style="margin-bottom:0.5rem">
                                        <label class="form-label d-flex align-items-center col-sm-12" style="font-size: 25px; color: red;"> <i class="far fa-times-circle" style="color:red;font-size: 20px;"></i>&nbsp;&nbsp; Do Not CONTACT!</label>
                                    </div>
                                    <div class="col-sm-12" style="margin-bottom:0.5rem">
                                        <label class="form-label d-flex align-items-center col-sm-12" style="font-size: 20px; color: red;">This linguist's details matches with existing linguist who has not agreed to be compliance with GDPR. Linguist needs to be approved by Linguistic Resources team.</label>
                                    </div>
                                </div>
                            }
                        }
                        <div class="form-group col-sm-12 row" style="margin-bottom:0.5rem">
                            <div class="col-sm-3" style="color:black">
                                <form id="KeyInfo">
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        <label class="form-label d-flex align-items-center col-sm-7">Linguistic supplier ID number: </label><label class="col-sm-2 d-flex">@Model.Id</label>
                                    </div>
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                        {
                                            if (Model.AgencyOrTeamName != "" && Model.AgencyOrTeamName != null)
                                            {

                                                <input asp-for="@(Model.AgencyOrTeamName)" style="font-size: 23px; color: black; font-weight: bolder;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 border-bottom-0 px-0 bg-transparent col-sm-12 align-items-center px-3" for="simpleinput">

                                                <input asp-for="@(Model.MainContactFirstName)" style="font-size: 16px; color: black; font-weight: bolder;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 border-bottom-0 px-0 bg-transparent col-sm-6 align-items-center px-3" for="simpleinput">

                                                <input asp-for="@(Model.MainContactSurname)" style="font-size: 16px; color: black; font-weight: bolder;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 border-bottom-0 px-0 bg-transparent col-sm-6" for="simpleinput">

                                            }
                                            else
                                            {
                                                <input asp-for="@(Model.MainContactFirstName)" style="font-size: 16px; color: black; font-weight: bolder;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 border-bottom-0 px-0 bg-transparent col-sm-6 align-items-center px-3" for="simpleinput">

                                                <input asp-for="@(Model.MainContactSurname)" style="font-size: 16px; color: black; font-weight: bolder;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 border-bottom-0 px-0 bg-transparent col-sm-6" for="simpleinput">
                                            }
                                        }
                                        else
                                        {
                                            if (Model.AgencyOrTeamName != "" && Model.AgencyOrTeamName != null)
                                            {
                                                <label class="form-label col-sm-12 d-flex align-items-center" style="font-size: 30px; color: black; font-weight: bolder;">@Model.AgencyOrTeamName</label>
                                            }
                                            else
                                            {
                                                <label class="form-label col-sm-12 d-flex align-items-center" style="font-size: 30px; color: black; font-weight: bolder;">@(Model.MainContactFirstName) @(Model.MainContactSurname)</label>
                                            }
                                        }


                                    </div>
                                    <div class="form-group row" style="margin-bottom: 0.5rem;font-size: 22px; color: black;">
                                        @foreach (var items in Model.Languages)
                                        {

                                            @if (Model.MotherTongueLanguageIanacode.ToLower() == items.StringValue.ToLower())
                                            {

                                                <label class="form-label d-flex col-sm-12 align-items-center">@items.Name</label>
                                            }

                                        }
                                    </div>
                                    @if (Model.IfBilingualOtherMotherTongueIanacode.Any())
                                    {
                                        <div class="form-group row" style="margin-bottom: 0.5rem;font-size: 22px; color: black;">
                                            @foreach (var items in Model.Languages)
                                            {

                                                @if (Model.IfBilingualOtherMotherTongueIanacode.ToLower() == items.StringValue.ToLower())
                                                {

                                                    <label class="form-label d-flex col-sm-12 align-items-center">@items.Name</label>
                                                }

                                            }
                                        </div>
                                    }
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        <label class="form-label col-sm-4 d-flex align-items-center">Type</label>
                                        <div class="col-sm-8">
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                <select name="@nameof(Model.SupplierTypeId)" class="select2 form-control" id="type-select" onchange="checkType()">
                                                    @foreach (var type in Model.linguistTypes)
                                                    {
                                                        @if (Model.SupplierTypeId == type.Id)
                                                        {
                                                            <option value="@type.Id" selected="selected">@type.Name</option>
                                                        }
                                                        else
                                                        {
                                                            <option value="@type.Id">@type.Name</option>
                                                        }
                                                    }
                                                </select>
                                            }
                                            else
                                            {
                                                <select name="@nameof(Model.SupplierTypeId)" class="select2 form-control" id="type-select" disabled>
                                                    @foreach (var type in Model.linguistTypes)
                                                    {
                                                        @if (Model.SupplierTypeId == type.Id)
                                                        {
                                                            <option value="@type.Id" selected="selected">@type.Name</option>
                                                        }
                                                        else
                                                        {
                                                            <option value="@type.Id">@type.Name</option>
                                                        }
                                                    }
                                                </select>
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group row" style="margin-bottom:0.5rem" id="company-div" hidden>
                                        <label class="form-label col-sm-4 d-flex align-items-center">Company Name</label>
                                        <div class="col-sm-8">
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                <input type="text" class="form-control d-flex align-items-center" asp-for="@(Model.AgencyOrTeamName)">
                                            }

                                        </div>
                                    </div>
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        <label class="form-label col-sm-4 d-flex align-items-center">Vendor type</label>
                                        <div class="col-sm-8">
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                <select name="@nameof(Model.VendorTypeID)" class="select2 form-control" id="vendor-type-select" multiple="multiple">
                                                    @foreach (var type in Model.linguistVendorTypes)
                                                    {
                                                        @if (Model.VendorTypeID != null)
                                                        {
                                                            string[] values = Model.VendorTypeID.Split(",");
                                                            @foreach (var value in values)
                                                            {
                                                                @if (value == type.Id.ToString())
                                                                {
                                                                    <option value="@type.Id" selected="selected">@type.Name</option>

                                                                }

                                                            }
                                                            @if (!values.Contains(type.Id.ToString()))
                                                            {
                                                                <option value="@type.Id">@type.Name</option>

                                                            }

                                                        }
                                                        else
                                                        {
                                                            <option value="@type.Id">@type.Name</option>
                                                        }

                                                    }
                                                </select>
                                            }
                                            else
                                            {
                                                <select name="@nameof(Model.VendorTypeID)" class="select2 form-control" id="vendor-type-select" multiple="multiple" disabled>
                                                    @foreach (var type in Model.linguistVendorTypes)
                                                    {
                                                        @if (Model.VendorTypeID != null)
                                                        {
                                                            string[] values = Model.VendorTypeID.Split(",");
                                                            @foreach (var value in values)
                                                            {
                                                                @if (value == type.Id.ToString())
                                                                {
                                                                    <option value="@type.Id" selected="selected">@type.Name</option>

                                                                }

                                                            }
                                                            @if (!values.Contains(type.Id.ToString()))
                                                            {
                                                                <option value="@type.Id">@type.Name</option>

                                                            }

                                                        }
                                                        else
                                                        {
                                                            <option value="@type.Id">@type.Name</option>
                                                        }

                                                    }
                                                </select>
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        <label class="form-label col-sm-3 d-flex align-items-center">Status</label>
                                        <div class="col-sm-1">
                                            @if (Model.SupplierStatusId == 1)
                                            {
                                                <i class="far fa-check-circle" style="color:green;position: absolute;font-size: 20px;top: 8px;"></i>
                                            }
                                            @if (Model.SupplierStatusId == 2)
                                            {
                                                <img src="~/img/QuestionMarkIcon.gif" style="position: absolute;font-size: 20px;top: 8px;" />
                                            }
                                            @if (Model.SupplierStatusId == 3 || Model.SupplierStatusId == 6)
                                            {
                                                <i class="far fa-times-circle" style="color:red;position: absolute;font-size: 20px;top: 8px;"></i>
                                            }
                                            @if (Model.SupplierStatusId == 12)
                                            {
                                                <img src="~/img/WarningIcon.png" style="position: absolute;font-size: 20px;top: 8px;" />
                                            }
                                        </div>
                                        <div class="col-sm-8">
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                <select name="@nameof(Model.SupplierStatusId)" class="select2 form-control" id="status-select">
                                                    @foreach (var type in Model.supplierStatus)
                                                    {
                                                        @if (Model.SupplierStatusId == type.Id)
                                                        {
                                                            <option value="@type.Id" selected="selected">@type.Name</option>
                                                        }
                                                        else
                                                        {
                                                            <option value="@type.Id">@type.Name</option>
                                                        }
                                                    }
                                                </select>
                                            }
                                            else
                                            {
                                                <select name="@nameof(Model.SupplierStatusId)" class="select2 form-control" id="status-select" disabled>
                                                    @foreach (var type in Model.supplierStatus)
                                                    {
                                                        @if (Model.SupplierStatusId == type.Id)
                                                        {
                                                            <option value="@type.Id" selected="selected">@type.Name</option>
                                                        }
                                                        else
                                                        {
                                                            <option value="@type.Id">@type.Name</option>
                                                        }
                                                    }
                                                </select>
                                            }
                                        </div>

                                    </div>
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        <label class="form-label col-sm-4 d-flex align-items-center">Country</label>
                                        <div class="col-sm-8">
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                <select name="@nameof(Model.CountryId)" class="select2 form-control" id="country-select">
                                                    @foreach (var country in Model.AllCountries)
                                                    {
                                                        @if (Model.CountryId == country.Id)
                                                        {
                                                            <option value="@country.Id" selected="selected">@country.CountryName</option>
                                                        }
                                                        else
                                                        {
                                                            <option value="@country.Id">@country.CountryName</option>
                                                        }
                                                    }
                                                </select>
                                            }
                                            else
                                            {
                                                <select name="@nameof(Model.CountryId)" class="select2 form-control" id="country-select" disabled>
                                                    @foreach (var country in Model.AllCountries)
                                                    {
                                                        @if (Model.CountryId == country.Id)
                                                        {
                                                            <option value="@country.Id" selected="selected">@country.CountryName</option>
                                                        }
                                                        else
                                                        {
                                                            <option value="@country.Id">@country.CountryName</option>
                                                        }
                                                    }
                                                </select>
                                            }
                                        </div>

                                    </div>
                                    @if (Model.DefaultTimeZone != null)
                                    {
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <div class="col-sm-4"></div>
                                            <div class="col-sm-8">
                                                <label class="form-label d-flex align-items-center">@Model.DefaultTimeZone</label>
                                            </div>
                                            <div class="col-sm-4"></div>
                                            <div class="col-sm-8">
                                                <label class="form-label d-flex align-items-center">@Model.CurrentInfoTimeLocal.ToString("dd/M/yyyy HH:mm:ss")</label>
                                            </div>
                                        </div>
                                    }
                                    <br />
                                    @if (Model.SupplierStatusId != 2)
                                    {
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-4 d-flex align-items-center">Availability</label>
                                            @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                            {
                                                <div class="col-sm-7" title="@Model.SubjectNotes">
                                                    <label class="form-label d-flex align-items-center" style="color:@Model.CategoryRGBColor;">@Model.CategoryName</label>
                                                </div>
                                                <a href=@string.Format("https://myplus.publicisgroupe.net/PlanningCalendar.aspx?Origin=2&ID={0}&UserName={1}", Model.Id, @ViewBag.LingExtranetUserName) target="_blank"><i class="far fa-calendar-alt" style="font-size: 20px;color:black;"></i></a>
                                            }
                                        </div>
                                    }
                                    @*<div class="form-group">

                                            <img src="~/img/OutlookIcon.png" />
                                            <a href="@("mailto:" + @Model.EmailAddress)">@Model.EmailAddress</a>

                                        </div>
                                        <br />*@
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        <label class="form-label col-sm-4 d-flex" style="color:black;">E-mail</label>
                                        @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                        {
                                            <div class="col-sm-8">
                                                <a href="@("mailto:" + @Model.EmailAddress)">@Model.EmailAddress</a>
                                            </div>
                                        }
                                    </div>
                                    @*<div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-4 d-flex" style="color:black;">CV</label>
                                            @if (Model.CVFileName != "")
                                            {
                                                <div class="col-sm-8">
                                                    <a href="@Model.CVFileName">@Model.CVName</a>
                                                </div>
                                            }
                                            else
                                            {
                                                <div class="col-sm-8">
                                                    <label class="form-label d-flex align-items-center">No file uploaded yet</label>
                                                </div>
                                            }
                                        </div>
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-4 d-flex" style="color:black;">Portfolio</label>
                                            @if (Model.PortfolioFileName != "")
                                            {
                                                <div class="col-sm-8">
                                                    <a href="@Model.PortfolioFileName">@Model.PortfolioName</a>
                                                </div>
                                            }
                                            else
                                            {
                                                <div class="col-sm-8">
                                                    <label class="form-label d-flex align-items-center">No file uploaded yet</label>
                                                </div>
                                            }
                                        </div>*@
                                    @if (ViewBag.LingExtranetUserName != "" && ViewBag.LingExtranetUserName != null)
                                    {
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-4 d-flex" style="color:black;">flow plus</label>
                                            @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                            {
                                                <div class="col-sm-8">
                                                    <a href="@("http://myplus/ExtranetUser.aspx?UserName=" + ViewBag.LingExtranetUserName)">@ViewBag.LingExtranetUserName</a>
                                                </div>
                                            }
                                        </div>
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-4 d-flex" style="color:black;">Last login</label>
                                            @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                            {
                                                @if (ViewBag.LingLastLogin != "01/1/0001 00:00:00")
                                                {
                                                    <div class="col-sm-8">
                                                        <label class="form-label">@ViewBag.LingLastLogin</label>
                                                    </div>
                                                }
                                            }
                                        </div>

                                        <div class="form-group row">
                                            <div class="col-sm-4">
                                            </div>
                                            <div class="col-lg-7">
                                                <a class="btn btn-success" href="@("https://myplus.publicisgroupe.net/ExtranetUserResetPassword.aspx?UserName=" + ViewBag.LingExtranetUserName)" target="_blank">Reset flow plus password</a><br /><br />
                                                <label id="ResetEmailSentMessage" class="text-warning" hidden><i>Password reset email has been sent to the client</i></label>
                                            </div>
                                        </div>
                                    }
                                    else
                                    {
                                        <br />
                                        @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                        {
                                            <div class="form-group row">
                                                <div class="col-sm-4">
                                                </div>
                                                <div class="col-sm-8">
                                                    <a href="@("https://myplus.publicisgroupe.net/EnableForExtranet.aspx?DataObjectTypeID=4&DataObjectID=" + Model.Id)" target="_blank">Enable for i plus access</a>
                                                </div>
                                            </div>
                                        }
                                    }
                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                    {
                                        <div class="form-group-row d-flex flex-row-reverse align-right-end">
                                            <button id="keyInfoSave" class="@(Settings.Theme.IconPrefix) btn btn-outline-default" type="submit" title="Save"><i class="far fa-cloud-upload fa-2x"></i></button>
                                        </div>
                                    }

                                </form>
                            </div>
                            <div class="col-sm-3" style="color: black; text-align: -webkit-right;">
                                <br />
                                <br />
                                @if (Model.LinguistProfileImage != null)
                                {
                                    <div class="col-sm-12">
                                        <img src="data:image;base64,@System.Convert.ToBase64String(Model.LinguistProfileImage)" height="145" width="145" class="rounded-circle" alt="@(Settings.Theme.User)" style="position:inherit;right:70px;">
                                    </div>
                                    <br />
                                }

                                <div class="form-group row col-sm-12" style="justify-content:end;font-size:16px;">

                                    @if (Model.OverallRating.HasValue)
                                    {<label class="form-label d-flex col-sm-5 px-3 text-left" style="color:black;">Overall rating:</label>@:&nbsp;
                                        @for (int i = 0; i < @Convert.ToInt32(Model.OverallRating); i++)
                                        {
                                            <img src="~/img/RatingStarFilled.png" style="height:20px;width:20px;" /><label>&nbsp;</label>
                                            count++;
                                        }
                                        @if (count != 0 && count < 5)
                                        {
                                            for (int i = 0; i < @Convert.ToInt32(5 - count); i++)
                                            {
                                                <img src="~/img/RatingStarEmpty.png" style="height: 20px; width:20px;" /><label>&nbsp;</label>

                                            }
                                        }
                                        @:&nbsp;
                                        <label class="form-label d-flex" style="color:black;">(@Convert.ToDouble(Model.OverallRating).ToString("0.0"))</label>
                                    }
                                </div>
                                <div class="form-group row col-sm-12" style="justify-content: end; margin-bottom: 0.5rem">
                                    @if (count != 0) { count = 0; }
                                    <label class="form-label d-flex col-sm-6 px-2 text-left" style="color:black;">Responsiveness:</label>&nbsp;
                                    @if (Model.SupplierResponsivenessRating.HasValue)
                                    {
                                        @for (int i = 0; i < @Convert.ToInt32(Model.SupplierResponsivenessRating); i++)
                                        {
                                            <img src="~/img/RatingStarFilled.png" style="height:15px;width:15px;" /><label>&nbsp;</label>
                                            count++;
                                        }
                                        @if (count != 0 && count < 5)
                                        {
                                            for (int i = 0; i < @Convert.ToInt32(5 - count); i++)
                                            {
                                                <img src="~/img/RatingStarEmpty.png" style="height: 15px; width:15px;" /><label>&nbsp;</label>

                                            }
                                        }
                                        @:&nbsp;
                                        <label class="form-label d-flex" style="color:black;">(@Convert.ToDouble(Model.SupplierResponsivenessRating).ToString("0.0"))</label>
                                    }
                                    else
                                    {
                                        <label class="col-sm-4 px-2 text-left" style="">(No rating yet)</label>
                                    }
                                </div>
                                <div class="form-group row col-sm-12" style="justify-content: end; margin-bottom: 0.5rem">
                                    @if (count != 0) { count = 0; }
                                    <label class="form-label d-flex col-sm-6 px-2 text-left" style="color:black;">Following the instructions:</label>&nbsp;
                                    @if (Model.SupplierFollowingTheInstructionsRating.HasValue)
                                    {
                                        @for (int i = 0; i < @Convert.ToInt32(Model.SupplierFollowingTheInstructionsRating); i++)
                                        {
                                            <img src="~/img/RatingStarFilled.png" style="height:15px;width:15px;" /><label>&nbsp;</label>
                                            count++;
                                        }
                                        @if (count != 0 && count < 5)
                                        {
                                            for (int i = 0; i < @Convert.ToInt32(5 - count); i++)
                                            {
                                                <img src="~/img/RatingStarEmpty.png" style="height: 15px; width:15px;" /><label>&nbsp;</label>

                                            }
                                        }
                                        @:&nbsp;
                                        <label class="form-label d-flex" style="color:black;">(@Convert.ToDouble(Model.SupplierFollowingTheInstructionsRating).ToString("0.0"))</label>
                                    }
                                    else
                                    { <label class="col-sm-4 px-2 text-left" style="">(No rating yet)</label>}
                                </div>
                                <div class="form-group row col-sm-12" style="justify-content: end; margin-bottom: 0.5rem">
                                    @if (count != 0) { count = 0; }
                                    <label class="form-label d-flex col-sm-6 px-2 text-left" style="color:black;">Quality of work:</label>&nbsp;
                                    @if (Model.SupplierQualityOfWorkRating.HasValue)
                                    {
                                        @for (int i = 0; i < @Convert.ToInt32(Model.SupplierQualityOfWorkRating); i++)
                                        {
                                            <img src="~/img/RatingStarFilled.png" style="height:15px;width:15px;" /><label>&nbsp;</label>
                                            count++;
                                        }
                                        @if (count != 0 && count < 5)
                                        {
                                            for (int i = 0; i < @Convert.ToInt32(5 - count); i++)
                                            {
                                                <img src="~/img/RatingStarEmpty.png" style="height: 15px; width:15px;" /><label>&nbsp;</label>

                                            }
                                        }
                                        @:&nbsp;
                                        <label class="form-label d-flex" style="color:black;">(@Convert.ToDouble(Model.SupplierQualityOfWorkRating).ToString("0.0"))</label>
                                    }
                                    else
                                    {<label class="col-sm-4 px-2 text-left" style="">(No rating yet)</label>}
                                </div>
                                <div class="form-group row col-sm-12" style="justify-content: end; margin-bottom: 0.5rem">
                                    @if (count != 0) { count = 0; }
                                    <label class="form-label d-flex  col-sm-6 px-2 text-left" style="color:black;">Punctuality:</label>&nbsp;
                                    @if (Model.SupplierOnTimeDeliveryRating.HasValue)
                                    {
                                        @for (int i = 0; i < @Convert.ToInt32(Model.SupplierOnTimeDeliveryRating); i++)
                                        {
                                            <img src="~/img/RatingStarFilled.png" style="height:15px;width:15px;" /><label>&nbsp;</label>
                                            count++;
                                        }
                                        @if (count != 0 && count < 5)
                                        {
                                            for (int i = 0; i < @Convert.ToInt32(5 - count); i++)
                                            {
                                                <img src="~/img/RatingStarEmpty.png" style="height: 15px; width:15px;" /><label>&nbsp;</label>

                                            }
                                        }
                                        @:&nbsp;
                                        <label class="form-label d-flex" style="color:black;">(@Convert.ToDouble(Model.SupplierOnTimeDeliveryRating).ToString("0.0"))</label>
                                    }
                                    else
                                    {<label class="col-sm-4 px-2 text-left" style="">(No rating yet)</label>}
                                </div>
                                <div class="form-group row col-sm-11" style="justify-content: center; margin-bottom: 0.5rem;">
                                    <div class="form-group row col-sm-12" style="justify-content: center; font-size: 40px">
                                        <i class="far fa-smile" style="color:green;"></i>&nbsp;<label class="form-label d-flex" style="color: black; position: relative; bottom: 8px;">@Model.Compliments</label><div class="col-2"></div>
                                        <i class="far fa-angry" style="color:red;"></i>&nbsp;<label class="form-label d-flex" style="color: black; position: relative; bottom: 8px;">@Model.Complaints</label>
                                    </div>
                                    <div class="form-group row col-sm-12" style="justify-content: center;">
                                        <a href="@string.Format("https://myplus.publicisgroupe.net/Linguist.aspx?LinguistID={0}",Model.Id)" target="_blank" class="form-label d-flex col-sm-5" style="position: relative; bottom: 36px; justify-content: end; right: 5px; font-size: 15px;">Compliments</a>
                                        <a href="@string.Format("https://myplus.publicisgroupe.net/Linguist.aspx?LinguistID={0}",Model.Id)" target="_blank" class="form-label d-flex col-sm-5" style="position: relative; bottom: 36px; justify-content: end; right:11px;font-size:15px;">Complaints</a>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-sm-6 row" style="color:black;justify-content:end;">
                                <div class="col-sm-5" style="color:black">
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        @if (Model.AllLinguistApprovedOrgs.Any())
                                        {
                                            @for (int i = 0; i < Model.AllLinguistApprovedOrgs.Count(); i++)
                                            {

                                                @if (i == 0)
                                                {

                                                    <label class="form-label col-sm-12 d-flex align-items-center">Preferred linguist for: </label>

                                                }
                                                @if (Model.AllLinguistApprovedOrgs.ElementAt(i).orgName.Length > 45)
                                                {
                                                    <a href="@("https://myplusbeta.publicisgroupe.net/Organisation?id=" + Model.AllLinguistApprovedOrgs.ElementAt(i).orgID)" style="border-style: solid; border-color: black; color: white !important; background-color: #4CAF50 !important;" target="_blank" class="btn p-0 col-sm-12" title="@Model.AllLinguistApprovedOrgs.ElementAt(i).orgName">@Model.AllLinguistApprovedOrgs.ElementAt(i).orgName.Substring(0, 45)...</a> <label>&nbsp;</label>
                                                }
                                                else
                                                {
                                                    <a href="@("https://myplusbeta.publicisgroupe.net/Organisation?id=" + Model.AllLinguistApprovedOrgs.ElementAt(i).orgID)" style="border-style: solid; border-color: black; color: white !important; background-color: #4CAF50 !important;" target="_blank" class="btn p-0 col-sm-12" title="@Model.AllLinguistApprovedOrgs.ElementAt(i).orgName">@Model.AllLinguistApprovedOrgs.ElementAt(i).orgName</a> <label>&nbsp;</label>
                                                }
                                            }
                                        }
                                        else
                                        {
                                            <label class="form-label col-sm-12 d-flex align-items-center">Preferred linguist for: </label>
                                        }
                                    </div>
                                </div>
                                <div class="col-0"></div>
                                <div class="col-sm-5" style="color:black">
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        @if (Model.AllLinguistBlockedOrgs.Any())
                                        {
                                            @for (int i = 0; i < Model.AllLinguistBlockedOrgs.Count(); i++)
                                            {

                                                @if (i == 0)
                                                {

                                                    <label class="form-label col-sm-12 d-flex align-items-center">Blocked linguist for: </label>

                                                }
                                                @if (Model.AllLinguistBlockedOrgs.ElementAt(i).orgName.Length > 45)
                                                {
                                                    <a href="@("https://myplusbeta.publicisgroupe.net/Organisation?id=" + Model.AllLinguistBlockedOrgs.ElementAt(i).orgID)" style="border-style: solid; border-color: black; color: white !important; background-color: #C21807 !important;" target="_blank" class="btn p-0 col-sm-12" title="@Model.AllLinguistBlockedOrgs.ElementAt(i).orgName">@Model.AllLinguistBlockedOrgs.ElementAt(i).orgName.Substring(0, 45)...</a><label>&nbsp;</label>
                                                }
                                                else
                                                {
                                                    <a href="@("https://myplusbeta.publicisgroupe.net/Organisation?id=" + Model.AllLinguistBlockedOrgs.ElementAt(i).orgID)" style="border-style: solid; border-color: black; color: white !important; background-color: #C21807 !important;" target="_blank" class="btn p-0 col-sm-12" title="@Model.AllLinguistBlockedOrgs.ElementAt(i).orgName">@Model.AllLinguistBlockedOrgs.ElementAt(i).orgName</a><label>&nbsp;</label>
                                                }
                                            }
                                        }
                                        else
                                        {
                                            <label class="form-label col-sm-12 d-flex align-items-center">Blocked linguist for: </label>
                                        }
                                    </div>
                                </div>
                                <div class="col-sm-5" style="color:black">
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        @if (Model.AllLinguistTop5Items.Any())
                                        {
                                            @for (int i = 0; i < Model.AllLinguistTop5Items.Count(); i++)
                                            {
                                                @if (i == 0)
                                                {
                                                    <label class="form-label col-sm-12 d-flex align-items-center">Total number of job items: @Model.AllLinguistTop5Items.ElementAt(i).TotalNumberOfItems.ToString("##,##")  </label>
                                                }
                                                @if (Model.AllLinguistTop5Items.ElementAt(i).orgName.Length > 40)
                                                {
                                                    <a href="@("https://myplusbeta.publicisgroupe.net/Organisation?id=" + Model.AllLinguistTop5Items.ElementAt(i).orgID)" style="border-style: solid; border-color: black; color: white !important; background-color: #f46333;" target="_blank" class="btn p-0 col-sm-12" title="@Model.AllLinguistTop5Items.ElementAt(i).orgName : @Model.AllLinguistTop5Items.ElementAt(i).numberOfOrgItems.ToString("##,##")">@Model.AllLinguistTop5Items.ElementAt(i).orgName.Substring(0, 40)... : @Model.AllLinguistTop5Items.ElementAt(i).numberOfOrgItems.ToString("##,##") </a><label>&nbsp;</label>
                                                }
                                                else
                                                {
                                                    <a href="@("https://myplusbeta.publicisgroupe.net/Organisation?id=" + Model.AllLinguistTop5Items.ElementAt(i).orgID)" style="border-style: solid; border-color: black; color: white !important; background-color: #f46333;" target="_blank" class="btn p-0 col-sm-12" title="@Model.AllLinguistTop5Items.ElementAt(i).orgName : @Model.AllLinguistTop5Items.ElementAt(i).numberOfOrgItems.ToString("##,##")">@Model.AllLinguistTop5Items.ElementAt(i).orgName : @Model.AllLinguistTop5Items.ElementAt(i).numberOfOrgItems.ToString("##,##") </a><label>&nbsp;</label>
                                                }
                                            }
                                        }
                                        else
                                        {
                                            <label class="form-label col-sm-12 d-flex align-items-center">Total number of job items:</label>
                                        }
                                    </div>
                                </div>
                                <div class="col-0"></div>
                                <div class="col-sm-5" style="color:black">
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        @if (Model.AllLinguistTop5Words.Any())
                                        {
                                            @for (int i = 0; i < Model.AllLinguistTop5Words.Count(); i++)
                                            {

                                                @if (i == 0)
                                                {

                                                    <label class="form-label col-sm-12 d-flex align-items-center">Total number of words: @Model.AllLinguistTop5Words.ElementAt(i).TotalNumberOfWords.ToString("##,##")  </label>

                                                }
                                                @if (Model.AllLinguistTop5Words.ElementAt(i).orgName.Length > 30)
                                                {
                                                    <a href="@("https://myplusbeta.publicisgroupe.net/Organisation?id=" + Model.AllLinguistTop5Words.ElementAt(i).orgID)" style="border-style: solid; border-color: black; color: white !important; background-color: #f46333;" target="_blank" class="btn p-0 col-sm-12" title="@Model.AllLinguistTop5Words.ElementAt(i).orgName : @Model.AllLinguistTop5Words.ElementAt(i).numberOfOrgWords.ToString("##,##")">@Model.AllLinguistTop5Words.ElementAt(i).orgName.Substring(0, 30)... : @Model.AllLinguistTop5Words.ElementAt(i).numberOfOrgWords.ToString("##,##") </a><label>&nbsp;</label>
                                                }
                                                else
                                                {
                                                    <a href="@("https://myplusbeta.publicisgroupe.net/Organisation?id=" + Model.AllLinguistTop5Words.ElementAt(i).orgID)" style="border-style: solid; border-color: black; color: white !important; background-color: #f46333;" target="_blank" class="btn p-0 col-sm-12" title="@Model.AllLinguistTop5Words.ElementAt(i).orgName : @Model.AllLinguistTop5Words.ElementAt(i).numberOfOrgWords.ToString("##,##")">@Model.AllLinguistTop5Words.ElementAt(i).orgName : @Model.AllLinguistTop5Words.ElementAt(i).numberOfOrgWords.ToString("##,##") </a><label>&nbsp;</label>
                                                }
                                            }
                                        }
                                        else
                                        {
                                            <label class="form-label col-sm-12 d-flex align-items-center">Total number of words: </label>

                                        }
                                    </div>
                                </div>

                            </div>

                        </div>

                    </div>
                </div>
            </div>
            <div class="row">
                <!--<div class="col-12">-->
                @*Enquiries to be actioned*@
                <!--<div class="panel" data-panel-fullscreen="false" data-panel-close="false">
                        <div class="panel-hdr">
                            <i class="fal fa-info fa-2x color-black"></i> &nbsp; &nbsp;
                            <h2>Linguist client info</h2>
                        </div>
                        <div class="panel-container collapse">
                            <div class="panel-content">
                                <div class="form-group row" style="margin-bottom:0.5rem">

                                    @for (int i = 0; i < Model.AllLinguistTop5Items.Count(); i++)
                                    {



                                        @if (i == 0)
                                        {

                                            <label class="form-label col-sm-2 d-flex align-items-center">Total number of job items: @Model.AllLinguistTop5Items.ElementAt(i).TotalNumberOfItems.ToString("##,##")  </label>

                                        }

                                        <a href="@("https://myplusbeta.publicisgroupe.net/Organisation?id=" + Model.AllLinguistTop5Items.ElementAt(i).orgID)" style="border-style: solid; border-color: black; color: white !important; background-color: #f46333; " target="_blank" class="btn p-1">@Model.AllLinguistTop5Items.ElementAt(i).orgName : @Model.AllLinguistTop5Items.ElementAt(i).numberOfOrgItems.ToString("##,##") </a><label>&nbsp;</label>


                                    }
                                </div>
                                <br />
                                <div class="form-group row" style="margin-bottom:0.5rem">
                                    @for (int i = 0; i < Model.AllLinguistTop5Words.Count(); i++)
                                    {

                                        @if (i == 0)
                                        {

                                            <label class="form-label col-sm-2 d-flex align-items-center">Total number of words: @Model.AllLinguistTop5Words.ElementAt(i).TotalNumberOfWords.ToString("##,##")  </label>

                                        }

                                        <a href="@("https://myplusbeta.publicisgroupe.net/Organisation?id=" + Model.AllLinguistTop5Words.ElementAt(i).orgID)" style="border-style: solid; border-color: black; color: white !important; background-color: #f46333; " target="_blank" class="btn p-1">@Model.AllLinguistTop5Words.ElementAt(i).orgName : @Model.AllLinguistTop5Words.ElementAt(i).numberOfOrgWords.ToString("##,##") </a><label>&nbsp;</label>

                                    }

                                </div>
                                <br />
                                @if (Model.AllLinguistApprovedOrgs.Count() > 0)
                                {
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        @for (int i = 0; i < Model.AllLinguistApprovedOrgs.Count(); i++)
                                        {

                                            @if (i == 0)
                                            {

                                                <label class="form-label col-sm-2 d-flex align-items-center">Preferred linguist for: </label>

                                            }

                                            <a href="@("https://myplusbeta.publicisgroupe.net/Organisation?id=" + Model.AllLinguistApprovedOrgs.ElementAt(i).orgID)" style="border-style: solid; border-color: black; color: white !important; background-color: #4CAF50 !important; " target="_blank" class="btn p-1">@Model.AllLinguistApprovedOrgs.ElementAt(i).orgName</a> <label>&nbsp;</label>

                                        }

                                    </div>
                                    <br />
                                }
                                @if (Model.AllLinguistBlockedOrgs.Count() > 0)
                                {
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        @for (int i = 0; i < Model.AllLinguistBlockedOrgs.Count(); i++)
                                        {

                                            @if (i == 0)
                                            {

                                                <label class="form-label col-sm-5 d-flex align-items-center">Blocked linguist for: </label>

                                            }

                                            <a href="@("https://myplusbeta.publicisgroupe.net/Organisation?id=" + Model.AllLinguistBlockedOrgs.ElementAt(i).orgID)" style="border-style: solid; border-color: black; color: white !important; background-color: #C21807 !important; " target="_blank" class="btn p-1">@Model.AllLinguistBlockedOrgs.ElementAt(i).orgName</a><label>&nbsp;</label>

                                        }

                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                </div>-->
                <div class="col-12">
                    @*Enquiries to be actioned*@
                    <div class="panel" data-panel-fullscreen="false" data-panel-close="false">
                        <div class="panel-hdr">
                            <i class="fal fa-file-alt fa-2x color-black"></i> &nbsp; &nbsp;
                            <h2>Linguist expertise and CV</h2>
                        </div>
                        <div class="panel-container collapse">
                            <div class="panel-content">
                                <form id="LinguistExpertise">
                                    <div class="form-group row col-sm-12" style="margin-bottom:0.5rem">
                                        <div class="form-group col-sm-6" style="margin-bottom:0.5rem">
                                            <div class="form-group-row">

                                            </div>
                                            <br />
                                            <h5 style="color:black">Expertise</h5>
                                            <br />

                                            <div class="form-group row" style="margin-bottom:0.5rem">
                                                <label class="form-label col-sm-3 d-flex align-items">CV</label>
                                                
                                                    <div class="form-label col-sm-7" id="cv-file-div" hidden>
                                                        <a href="@Model.CVFileName" class="" target="_blank" id="cv-file-tag">@Model.CVName</a>
                                                    </div>
                                                
                                                    <div class="form-label col-sm-7" id="cv-no-file-div" hidden>
                                                        <label class="form-label d-flex align-items-center">No file uploaded yet</label>
                                                    </div>
                                                
                                                <div class="form-label col-sm" id="cv-div" hidden>
                                                    <button id="uploadCVbutton" class="@(Settings.Theme.IconPrefix) btn btn-outline-default" type="submit" title="Save" onclick="uploadCV(@Model.Id);"><i class="far fa-cloud-upload fa-2x"></i></button>
                                                </div>
                                            </div>
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                <div class="form-group row" style="margin-bottom:0.5rem">
                                                    <div class="col-sm-3"></div>
                                                    <div class="form-label col-sm row px-4">
                                                        <input type="file" id="cv-file-upload" onchange="showUploadCV()">
                                                    </div>
                                                </div>
                                            }
                                            <br />
                                            <div class="form-group row" style="margin-bottom:0.5rem">
                                                <label class="form-label col-sm-3 d-flex align-items-center">Portfolio</label>
                                                
                                                    <div class="form-label col-sm-7" id="portfolio-file-div" hidden>
                                                        <a href="@Model.PortfolioFileName" class="" target="_blank" id="portfolio-file-tag">@Model.PortfolioName</a>
                                                    </div>
                                                
                                                    <div class="form-label col-sm-7" id="portfolio-no-file-div" hidden>
                                                        <label class="form-label d-flex align-items-center">No file uploaded yet</label>
                                                    </div>
                                                
                                                <div class="form-label col-sm" id="portfolio-div" hidden>
                                                    <button id="uploadPortfoliobutton" class="@(Settings.Theme.IconPrefix) btn btn-outline-default" type="submit" title="Save" onclick="uploadPortfolio(@Model.Id);"><i class="far fa-cloud-upload fa-2x"></i></button>
                                                </div>
                                            </div>
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                <div class="form-group row" style="margin-bottom:0.5rem">
                                                    <div class="col-sm-3"></div>
                                                    <div class="form-label col-sm">
                                                        <input type="file" id="portfolio-file-upload" onchange="showUploadPortfolio()">
                                                    </div>
                                                </div>
                                            }
                                            <br />
                                            <div class="form-group row" style="margin-bottom:0.5rem">
                                                <label class="form-label col-sm-3 d-flex align-items-center">Website</label>
                                                <div class="form-label col-sm-9">
                                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                    {
                                                        <input type="text" class="form-control d-flex align-items-center" id="website" value="@Model.WebAddress">
                                                    }
                                                    else
                                                    {
                                                        <input type="text" class="form-control d-flex align-items-center" id="website" value="@Model.WebAddress" readonly>
                                                    }
                                                </div>

                                            </div>
                                            <br />
                                            <div class="form-group row" style="margin-bottom:0.5rem">
                                                <label class="form-label col-sm-3 d-flex align-items-center">Membership in professional bodies</label>
                                                <div class="form-label col-sm-9">
                                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                    {
                                                        <select size="7" name="@nameof(Model.ProfessionalBodyID)" id="membership-professional-bodies" multiple="multiple" class="select2 form-control">
                                                            @if (Model.LinguisticProfessionalBodies != null)
                                                            {
                                                                @foreach (var service in Model.LinguisticProfessionalBodies)
                                                                {
                                                                    @if (Model.ProfessionalBodyID != null && Model.ProfessionalBodyID != "")
                                                                    {
                                                                        string[] values = Model.ProfessionalBodyID.Split(",");
                                                                        @foreach (var value in values)
                                                                        {
                                                                            @if (value == service.Id.ToString())
                                                                            {
                                                                                <option value="@service.Id" selected="selected">@service.Name</option>

                                                                            }

                                                                        }
                                                                        @if (!values.Contains(service.Id.ToString()))
                                                                        {
                                                                            <option value="@service.Id">@service.Name</option>

                                                                        }

                                                                    }
                                                                    else
                                                                    {
                                                                        <option value="@service.Id">@service.Name</option>
                                                                    }
                                                                }
                                                            }
                                                        </select>
                                                    }
                                                    else
                                                    {
                                                        <select size="7" name="@nameof(Model.ProfessionalBodyID)" id="membership-professional-bodies" multiple="multiple" class="select2 form-control" disabled>
                                                            @if (Model.LinguisticProfessionalBodies != null)
                                                            {
                                                                @foreach (var service in Model.LinguisticProfessionalBodies)
                                                                {
                                                                    @if (Model.ProfessionalBodyID != null && Model.ProfessionalBodyID != "")
                                                                    {
                                                                        string[] values = Model.ProfessionalBodyID.Split(",");
                                                                        @foreach (var value in values)
                                                                        {
                                                                            @if (value == service.Id.ToString())
                                                                            {
                                                                                <option value="@service.Id" selected="selected">@service.Name</option>

                                                                            }

                                                                        }
                                                                        @if (!values.Contains(service.Id.ToString()))
                                                                        {
                                                                            <option value="@service.Id">@service.Name</option>

                                                                        }

                                                                    }
                                                                    else
                                                                    {
                                                                        <option value="@service.Id">@service.Name</option>
                                                                    }
                                                                }
                                                            }
                                                        </select>
                                                    }
                                                </div>
                                            </div>
                                            <br />
                                            <div class="form-group row" style="margin-bottom:0.5rem">
                                                <label class="form-label col-sm-3 d-flex align-items-center">Area of expertise</label>
                                                <div class="form-label col-sm-9">
                                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                    {
                                                        <select size="7" name="@nameof(Model.MasterFieldsIds)" id="MasterFields" onchange="SelectedFields(this)" multiple="multiple" class="select2 form-control">
                                                            @if (Model.MasterFields != null)
                                                            {
                                                                @foreach (var service in Model.MasterFields)
                                                                {
                                                                    @if (Model.MasterFieldsIds != null)
                                                                    {
                                                                        string[] values = Model.MasterFieldsIds.Split(",");
                                                                        @foreach (var value in values)
                                                                        {
                                                                            @if (value == service.Id.ToString())
                                                                            {
                                                                                <option value="@service.Id" selected="selected">@service.Name</option>

                                                                            }

                                                                        }
                                                                        @if (!values.Contains(service.Id.ToString()))
                                                                        {
                                                                            <option value="@service.Id">@service.Name</option>

                                                                        }

                                                                    }
                                                                    else
                                                                    {
                                                                        <option value="@service.Id">@service.Name</option>
                                                                    }
                                                                }
                                                            }
                                                        </select>
                                                    }
                                                    else
                                                    {
                                                        <select size="7" name="@nameof(Model.MasterFieldsIds)" id="MasterFields" onchange="SelectedFields(this)" multiple="multiple" class="select2 form-control" disabled>
                                                            @if (Model.MasterFields != null)
                                                            {
                                                                @foreach (var service in Model.MasterFields)
                                                                {
                                                                    @if (Model.MasterFieldsIds != null)
                                                                    {
                                                                        string[] values = Model.MasterFieldsIds.Split(",");
                                                                        @foreach (var value in values)
                                                                        {
                                                                            @if (value == service.Id.ToString())
                                                                            {
                                                                                <option value="@service.Id" selected="selected">@service.Name</option>

                                                                            }

                                                                        }
                                                                        @if (!values.Contains(service.Id.ToString()))
                                                                        {
                                                                            <option value="@service.Id">@service.Name</option>

                                                                        }

                                                                    }
                                                                    else
                                                                    {
                                                                        <option value="@service.Id">@service.Name</option>
                                                                    }
                                                                }
                                                            }
                                                        </select>
                                                    }
                                                </div>
                                            </div>

                                            <div class="form-group row" style="margin-bottom:0.5rem">
                                                <label class="form-label col-sm-3 d-flex align-items-center">Sub fields</label>
                                                <div class="form-label col-sm-9">
                                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                    {
                                                        <select size="7" name="@nameof(Model.SubFieldsIds)" multiple="multiple" id="SubFields" class="select2 form-control">
                                                            @if (Model.SubFields != null && Model.SubFieldsIds != "" && Model.SubFieldsIds != null)
                                                            {
                                                                List<string> MasterFieldsValues = Model.MasterFieldsIds.Split(",").ToList();
                                                                @foreach (var masterField in MasterFieldsValues)
                                                                {
                                                                    @foreach (var service in Model.SubFields.Where(x => x.MasterFieldId.ToString() == masterField))
                                                                    {
                                                                        @if (Model.SubFieldsIds != null)
                                                                        {
                                                                            string[] values = Model.SubFieldsIds.Split(",");
                                                                            @foreach (var value in values)
                                                                            {
                                                                                @if (value == service.Id.ToString())
                                                                                {

                                                                                    <option value="@service.Id" selected="selected">@service.Name</option>
                                                                                }

                                                                            }
                                                                            @if (!values.Contains(service.Id.ToString()))
                                                                            {
                                                                                <option value="@service.Id">@service.Name</option>

                                                                            }
                                                                        }
                                                                        else
                                                                        {

                                                                        }
                                                                    }
                                                                }
                                                            }

                                                        </select>
                                                    }
                                                    else
                                                    {
                                                        <select size="7" name="@nameof(Model.SubFieldsIds)" multiple="multiple" id="SubFields" class="select2 form-control" disabled>
                                                            @if (Model.SubFields != null || Model.SubFieldsIds != null)
                                                            {
                                                                @foreach (var service in Model.SubFields)
                                                                {
                                                                    @if (Model.SubFieldsIds != null)
                                                                    {
                                                                        string[] values = Model.SubFieldsIds.Split(",");
                                                                        @foreach (var value in values)
                                                                        {
                                                                            @if (value == service.Id.ToString())
                                                                            {

                                                                                <option value="@service.Id" selected="selected">@service.Name</option>
                                                                            }

                                                                        }
                                                                        @if (!values.Contains(service.Id.ToString()))
                                                                        {
                                                                            <option value="@service.Id">@service.Name</option>

                                                                        }
                                                                    }
                                                                    else
                                                                    {

                                                                    }
                                                                }
                                                            }

                                                        </select>
                                                    }
                                                </div>
                                            </div>
                                            <br />
                                            <div class="form-group row" style="margin-bottom:0.5rem">
                                                <label class="form-label col-sm-3 d-flex align-items-center">Media type specialisation &nbsp;<i class="fal fa-info-circle" style="font-size: 1.2rem;" data-toggle="popover" data-trigger="hover" data-placement="top" title="" data-html="true" data-content="(Creative services only)"></i></label>

                                                <div class="form-label col-sm-9">
                                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                    {
                                                        <select size="7" name="@nameof(Model.MediaTypeIds)" multiple="multiple" id="MediaTypes" class="select2 form-control">
                                                            @if (Model.MediaTypes != null || Model.MediaTypeIds != null)
                                                            {
                                                                @foreach (var service in Model.MediaTypes)
                                                                {
                                                                    @if (Model.MediaTypeIds != null)
                                                                    {
                                                                        string[] values = Model.MediaTypeIds.Split(",");
                                                                        @foreach (var value in values)
                                                                        {
                                                                            @if (value == service.Id.ToString())
                                                                            {

                                                                                <option value="@service.Id" selected="selected">@service.Name</option>
                                                                            }

                                                                        }
                                                                        @if (!values.Contains(service.Id.ToString()))
                                                                        {
                                                                            <option value="@service.Id">@service.Name</option>

                                                                        }
                                                                    }
                                                                    else
                                                                    {
                                                                        <option value="@service.Id">@service.Name</option>
                                                                    }
                                                                }
                                                            }

                                                        </select>
                                                    }
                                                    else
                                                    {
                                                        <select size="7" name="@nameof(Model.MediaTypeIds)" multiple="multiple" id="MediaTypes" class="select2 form-control" disabled>
                                                            @if (Model.MediaTypes != null || Model.MediaTypeIds != null)
                                                            {
                                                                @foreach (var service in Model.MediaTypes)
                                                                {
                                                                    @if (Model.MediaTypeIds != null)
                                                                    {
                                                                        string[] values = Model.MediaTypeIds.Split(",");
                                                                        @foreach (var value in values)
                                                                        {
                                                                            @if (value == service.Id.ToString())
                                                                            {

                                                                                <option value="@service.Id" selected="selected">@service.Name</option>
                                                                            }

                                                                        }
                                                                        @if (!values.Contains(service.Id.ToString()))
                                                                        {
                                                                            <option value="@service.Id">@service.Name</option>

                                                                        }
                                                                    }
                                                                    else
                                                                    {

                                                                    }
                                                                }
                                                            }

                                                        </select>
                                                    }
                                                </div>
                                            </div>
                                            <br />
                                            <div class="form-group row" style="margin-bottom:0.5rem">
                                                <label class="form-label col-sm-3 d-flex align-items">Supplier's own description</label>
                                                @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                {
                                                    <div class="form-label col-sm">
                                                        @if (Model.Gdprstatus != 2 && Model.Gdprstatus != 0)
                                                        {
                                                            <textarea class="form-control col-sm d-flex align-items-center" style="height:111px;" id="description">@Model.SubjectAreaSpecialismsAsDescribedBySupplier</textarea>
                                                        }
                                                    </div>
                                                }
                                                else
                                                {
                                                    <div class="form-label col-sm">
                                                        @if (Model.Gdprstatus != 2 && Model.Gdprstatus != 0)
                                                        {
                                                            <textarea class="form-control col-sm d-flex align-items-center" style="height:111px;" id="description" readonly>@Model.SubjectAreaSpecialismsAsDescribedBySupplier</textarea>
                                                        }
                                                    </div>
                                                }
                                            </div>
                                            <br />
                                            <div class="form-group row" style="margin-bottom:0.5rem">
                                                <label class="form-label col-sm-3 d-flex align-items-center">The supplier's mother tongue</label>
                                                @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                {
                                                    <div class="form-label col-sm">
                                                        @if (Model.Gdprstatus != 2 && Model.Gdprstatus != 0)
                                                        {
                                                            <select class="select2 form-control" id="mother-tongue-select">
                                                                @if (Model.MotherTongueLanguageIanacode == "")
                                                                {
                                                                    <option value="" selected="selected">(Please Select)</option>
                                                                }
                                                                @foreach (var items in Model.Languages)
                                                                {

                                                                    @if (Model.MotherTongueLanguageIanacode == items.StringValue)
                                                                    {
                                                                        <option value="@items.StringValue" selected="selected">@items.Name</option>
                                                                    }
                                                                    else
                                                                    {
                                                                        <option value="@items.StringValue">@items.Name</option>
                                                                    }
                                                                }
                                                            </select>
                                                        }
                                                    </div>
                                                }
                                                else
                                                {
                                                    <div class="form-label col-sm">
                                                        @if (Model.Gdprstatus != 2 && Model.Gdprstatus != 0)
                                                        {
                                                            <select class="select2 form-control" id="mother-tongue-select" disabled>
                                                                @if (Model.MotherTongueLanguageIanacode == "")
                                                                {
                                                                    <option value="" selected="selected"></option>
                                                                }
                                                                @foreach (var items in Model.Languages)
                                                                {

                                                                    @if (Model.MotherTongueLanguageIanacode == items.StringValue)
                                                                    {
                                                                        <option value="@items.StringValue" selected="selected">@items.Name</option>
                                                                    }
                                                                    else
                                                                    {
                                                                        <option value="@items.StringValue">@items.Name</option>
                                                                    }
                                                                }
                                                            </select>
                                                        }
                                                    </div>
                                                }
                                            </div>
                                            <br />
                                            <div class="form-group row" style="margin-bottom:0.5rem">
                                                <label class="form-label col-sm-3 d-flex align-items-center">If bilingual, the supplier's second mother tongue</label>
                                                @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                {
                                                    <div class="form-label col-sm">
                                                        @if (Model.Gdprstatus != 2 && Model.Gdprstatus != 0)
                                                        {
                                                            <select class="select2 form-control" id="second-mother-tongue-select">
                                                                @if (Model.IfBilingualOtherMotherTongueIanacode == "")
                                                                {
                                                                    <option value="" selected="selected">(Please Select)</option>
                                                                }
                                                                @foreach (var items in Model.Languages)
                                                                {
                                                                    @if (Model.IfBilingualOtherMotherTongueIanacode == items.StringValue)
                                                                    {
                                                                        <option value="@items.StringValue" selected="selected">@items.Name</option>
                                                                    }
                                                                    else
                                                                    {
                                                                        <option value="@items.StringValue">@items.Name</option>
                                                                    }
                                                                }
                                                            </select>
                                                        }
                                                    </div>
                                                }
                                                else
                                                {
                                                    <div class="form-label col-sm">
                                                        @if (Model.Gdprstatus != 2 && Model.Gdprstatus != 0)
                                                        {
                                                            <select class="select2 form-control" id="second-mother-tongue-select" disabled>
                                                                @if (Model.IfBilingualOtherMotherTongueIanacode == "")
                                                                {
                                                                    <option value="" selected="selected"></option>
                                                                }
                                                                @foreach (var items in Model.Languages)
                                                                {
                                                                    @if (Model.IfBilingualOtherMotherTongueIanacode == items.StringValue)
                                                                    {
                                                                        <option value="@items.StringValue" selected="selected">@items.Name</option>
                                                                    }
                                                                    else
                                                                    {
                                                                        <option value="@items.StringValue">@items.Name</option>
                                                                    }
                                                                }
                                                            </select>
                                                        }
                                                    </div>
                                                }
                                            </div>

                                        </div>
                                        <div class="form-group col-sm-1" style="margin-bottom:0.5rem;align-self:self-end;">

                                        </div>
                                        <div class="form-group col-sm-5" style="margin-bottom:0.5rem">
                                            <br />
                                            <h5 style="color:black">Software</h5>
                                            <br />
                                            <div class="form-group-row">
                                                <label class="form-label col-sm-4 d-flex align-items-center">Has encrypted computer</label>
                                                @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                {
                                                    <select class="select2 form-control custom-select" id="encrypted-select">
                                                        <option value="">(Please select)</option>
                                                        @if (Model.HasEncryptedComputer == true)
                                                        {
                                                            <option value="1" selected="selected">Yes</option>
                                                            <option value="0">No</option>
                                                        }
                                                        else if (Model.HasEncryptedComputer == false)
                                                        {
                                                            <option value="1">Yes</option>
                                                            <option value="0" selected="selected">No</option>
                                                        }
                                                        else
                                                        {
                                                            <option value="1">Yes</option>
                                                            <option value="0">No</option>
                                                        }
                                                    </select>
                                                }
                                                else
                                                {
                                                    <select class="select2 form-control custom-select" id="encrypted-select" disabled>

                                                        @if (Model.HasEncryptedComputer == true)
                                                        {
                                                            <option value="1" selected="selected">Yes</option>
                                                            <option value="0">No</option>
                                                        }
                                                        @if (Model.HasEncryptedComputer == false)
                                                        {
                                                            <option value="1">Yes</option>
                                                            <option value="0" selected="selected">No</option>
                                                        }

                                                    </select>
                                                }
                                            </div>
                                            <br />
                                            <div class="form-group-row">
                                                <label class="form-label col-sm-4 d-flex align-items-center">Primary operating system</label>
                                                @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                {
                                                    <select name="@nameof(Model.PrimaryOperatingSystemId)" class="select2 form-control" id="system-select">
                                                        <option value="0">(Please select)</option>
                                                        @foreach (var operatingSystem in Model.OperationSystems)
                                                        {
                                                            @if (Model.PrimaryOperatingSystemId == operatingSystem.Id)
                                                            {
                                                                <option value="@operatingSystem.Id" selected="selected">@operatingSystem.Name</option>
                                                            }
                                                            else
                                                            {
                                                                <option value="@operatingSystem.Id">@operatingSystem.Name</option>
                                                            }
                                                        }
                                                    </select>
                                                }
                                                else
                                                {
                                                    <select name="@nameof(Model.PrimaryOperatingSystemId)" class="select2 form-control" id="system-select" disabled>
                                                        @foreach (var operatingSystem in Model.OperationSystems)
                                                        {
                                                            @if (Model.PrimaryOperatingSystemId == operatingSystem.Id)
                                                            {
                                                                <option value="@operatingSystem.Id" selected="selected">@operatingSystem.Name</option>
                                                            }
                                                            else
                                                            {
                                                                <option value="@operatingSystem.Id">@operatingSystem.Name</option>
                                                            }
                                                        }
                                                    </select>
                                                }
                                            </div>
                                            <br />
                                            <div class="form-group-row">
                                                <label class="form-label col-sm-4 d-flex align-items-center">Operating system version</label>
                                                @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                {
                                                    <select name="@nameof(Model.PrimaryOperatingSystemVersionId)" class="select2 form-control" id="version-select">
                                                        <option value="0">(Please select)</option>
                                                        @foreach (var operatingSystemVersion in Model.OperationSystemVersion)
                                                        {
                                                            @if (Model.PrimaryOperatingSystemVersionId == operatingSystemVersion.Id)
                                                            {
                                                                <option value="@operatingSystemVersion.Id" selected="selected">@operatingSystemVersion.Name</option>
                                                            }
                                                            else
                                                            {
                                                                <option value="@operatingSystemVersion.Id">@operatingSystemVersion.Name</option>
                                                            }
                                                        }
                                                    </select>
                                                }
                                                else
                                                {
                                                    <select name="@nameof(Model.PrimaryOperatingSystemVersionId)" class="select2 form-control" id="version-select" disabled>
                                                        @foreach (var operatingSystemVersion in Model.OperationSystemVersion)
                                                        {
                                                            @if (Model.PrimaryOperatingSystemVersionId == operatingSystemVersion.Id)
                                                            {
                                                                <option value="@operatingSystemVersion.Id" selected="selected">@operatingSystemVersion.Name</option>
                                                            }
                                                            else
                                                            {
                                                                <option value="@operatingSystemVersion.Id">@operatingSystemVersion.Name</option>
                                                            }
                                                        }
                                                    </select>
                                                }
                                            </div>
                                            <br />
                                            <div class="form-group-row">
                                                <label class="form-label col-sm-4 d-flex align-items-center">Applications</label>
                                                @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                {
                                                    <select class="select2-placeholder-multiple custom-select" id="application-select" multiple="multiple">

                                                        @foreach (var app in Model.SoftwareApplications)
                                                        {
                                                            @foreach (var lst in Model.LinguisticSupplierSoftwareApplication)
                                                            {
                                                                @if (app.Id == lst.SoftwareApplicationId)
                                                                {
                                                                    <option value="@app.Id" selected="selected">@app.Name</option>
                                                                    loopID = app.Id;
                                                                }

                                                            }@if (app.Id != loopID)
                                                            {
                                                                <option value="@app.Id">@app.Name</option>
                                                            }
                                                        }

                                                    </select>
                                                }
                                                else
                                                {
                                                    <select class="select2-placeholder-multiple custom-select" id="application-select" multiple="multiple" disabled>
                                                        @foreach (var app in Model.SoftwareApplications)
                                                        {
                                                            @foreach (var lst in Model.LinguisticSupplierSoftwareApplication)
                                                            {
                                                                @if (app.Id == lst.SoftwareApplicationId)
                                                                {
                                                                    <option value="@app.Id" selected="selected">@app.Name</option>
                                                                    loopID = app.Id;
                                                                }

                                                            }@if (app.Id != loopID)
                                                            {
                                                                <option value="@app.Id">@app.Name</option>
                                                            }
                                                        }

                                                    </select>
                                                }
                                            </div>


                                            <br />
                                            <br />
                                            <br />
                                            <br />
                                            <h5 style="color:black">Police background checks & security clearances </h5>
                                            <br />
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                <div class="form-group-row">
                                                    <label class="form-label col-sm-4 d-flex align-items-center">Type of checks/clearances</label>
                                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                    {
                                                        <select class="select2 form-control" id="police-check-select">
                                                            <option value="0">(Please select)</option>
                                                            @foreach (var linguistPoliceChecks in Model.LinguistPoliceChecks)
                                                            {

                                                                <option value="@linguistPoliceChecks.Id">@linguistPoliceChecks.Name</option>

                                                            }
                                                        </select>
                                                    }

                                                </div>
                                                <br />
                                                <div class="form-group-row">
                                                    <label class="form-label col-sm-4 d-flex align-items-center">Issued date</label>
                                                    <div class="input-daterange input-group">
                                                        @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                        {

                                                            <input class="form-control" type="date" name="date" style="width:150px;" id="issued-datepicker" />
                                                        }

                                                    </div>
                                                </div>
                                                <br />
                                                <div class="form-group-row">
                                                    <label class="form-label col-sm-4 d-flex align-items-center">Expiry date</label>
                                                    <div class="input-daterange input-group">
                                                        @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                        {

                                                            <input class="form-control" type="date" name="date" style="width:150px;" id="expiry-datepicker" />
                                                        }

                                                    </div>
                                                </div>
                                                <br />

                                                <div class="form-group-row d-flex flex-row-reverse" style="padding-bottom:20px">
                                                    @{ var sourcepath = ViewBag.CurrentDirectory + "/img/NoEntrySign.png"; }
                                                    <button id="addPoliceCheckButton" class="@(Settings.Theme.IconPrefix) btn btn-success" type="submit" title="Save" onclick="addPoliceChecks('@sourcepath')"><i class="ni ni-plus fa-2x"></i></button>
                                                </div>
                                                <br />
                                                <br />
                                                <label id="policeCheckRequired" class="text-danger" hidden>You need to add at least one police check/clearance</label>
                                            }
                                            else
                                            {
                                                @if (!Model.linguisticSupplierPoliceCheckDetails.Any())
                                                {
                                                    <label class="text-danger" style="font-size:23px;">No Data Available</label>
                                                }
                                            }

                                            <div class="row">
                                                <div class="col-md-12">
                                                    <table border="1" id="policeCheckTable" style="width:100%;visibility:hidden">
                                                        <thead>
                                                            <tr>
                                                                <th style="text-align:center">
                                                                    Police Check/Clearance
                                                                </th>
                                                                <th style="text-align:center">
                                                                    Issued Date
                                                                </th>
                                                                <th style="text-align:center">
                                                                    Expiry Date
                                                                </th>
                                                                @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                                {
                                                                    <th style="text-align:center">
                                                                        Remove
                                                                    </th>
                                                                }
                                                                else
                                                                {
                                                                    <th style="text-align:center" hidden>
                                                                        Remove
                                                                    </th>
                                                                }
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @*@{
                                                                    <label id="quoteitemstablerows" />
                                                                }*@
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>

                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                <br />
                                                <br />
                                                <br />
                                                <br />
                                                <br />
                                                <br />


                                                <div class="form-group-row d-flex flex-row-reverse" style="text-align: end;">
                                                    <button id="editLinguistExpertise" class="@(Settings.Theme.IconPrefix) btn btn-outline-default" type="submit" title="Save" onclick="saveLinguistExpertise(@Model.Id);"><i class="far fa-cloud-upload fa-2x"></i></button>
                                                </div>
                                            }


                                        </div>

                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12">
                    @*Enquiries to be actioned*@
                    <div class="panel" data-panel-fullscreen="false" data-panel-close="false">
                        <div class="panel-hdr">
                            <i class="fal fa-money-check-alt fa-2x color-black"></i> &nbsp; &nbsp;
                            <h2>Linguist rates</h2>
                        </div>
                        <div class="panel-container collapse">
                            <div class="panel-content">
                                <div class="form-group-row">
                                    <table id="dt-all-rates" class="table-sm table table-bordered table-hover table-striped w-100">
                                        <thead style="background-color: #e84133;  color: #212529;">
                                            <tr>
                                                <th>ID</th>
                                                <th>Service</th>
                                                <th>Source</th>
                                                <th>Target</th>
                                                <th>Specialised rate</th>
                                                <th>Currency</th>
                                                <th>Rate</th>
                                                <th>Unit</th>
                                                <th>Min charge</th>
                                                <th>Applies to</th>
                                                <th>Comments</th>
                                                <th>Rate last modified</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @for (var i = 0; i < Model.AllRates.Count(); i++)
                                            {
                                                <tr align="center">
                                                    <td>
                                                        @Model.AllRates.ElementAt(i).linguistRateID
                                                    </td>
                                                    <td>
                                                        @Model.AllRates.ElementAt(i).serviceName
                                                    </td>
                                                    <td>
                                                        @Model.AllRates.ElementAt(i).lingSourceLang
                                                    </td>
                                                    <td>
                                                        @Model.AllRates.ElementAt(i).lingTargetLang
                                                    </td>
                                                    <td>
                                                        @Model.AllRates.ElementAt(i).lingSubjectArea
                                                    </td>
                                                    <td>
                                                        @Model.AllRates.ElementAt(i).lingCurrency
                                                    </td>
                                                    <td>
                                                        @if (Model.AllRates.ElementAt(i).MemoryRateForPerfectMatches != Convert.ToDecimal(0.9) || Model.AllRates.ElementAt(i).MemoryRateForExactMatches != Convert.ToDecimal(0.9) || Model.AllRates.ElementAt(i).MemoryRateForRepetitions != Convert.ToDecimal(0.9) || Model.AllRates.ElementAt(i).MemoryRateFor95To99Percent != Convert.ToDecimal(0.9) || Model.AllRates.ElementAt(i).MemoryRateFor85To94Percent != Convert.ToDecimal(0.9) || Model.AllRates.ElementAt(i).MemoryRateFor75To84Percent != Convert.ToDecimal(0.9) || Model.AllRates.ElementAt(i).MemoryRateFor50To74Percent != Convert.ToDecimal(0.9) || Model.AllRates.ElementAt(i).MemoryRateForClientSpecificPercent != Convert.ToDecimal(0.9))
                                                        {
                                                            <a onclick="populateClientSpecificBreakdown(this);" class="btn btn-icon align-middle" id="edit-btn" href="#" data-toggle="modal" style="color:#BA9765"
                                                               data-target="#clientSpecificRates" data-filter-tags="@i">
                                                                @Model.AllRates.ElementAt(i).standardRate
                                                            </a>
                                                        }
                                                        else
                                                        {
                                                            @Model.AllRates.ElementAt(i).standardRate
                                                        }
                                                    </td>
                                                    <td>
                                                        @Model.AllRates.ElementAt(i).linguistRateRateUnit
                                                    </td>
                                                    <td>
                                                        @Model.AllRates.ElementAt(i).minimumCharge
                                                    </td>
                                                    <td>
                                                        @if (Model.AllRates.ElementAt(i).appliesToTypeID == 0)
                                                        {
                                                            @Model.AllRates.ElementAt(i).appliesTo
                                                        }
                                                        else if (Model.AllRates.ElementAt(i).appliesToTypeID == 1)
                                                        {
                                                            @contact
                                                            <a style="color:#BA9765" target="_blank" href='@string.Format("https://myplusbeta.publicisgroupe.net/Contact?contactid={0}",@Model.AllRates.ElementAt(i).appliesToId)'>@Model.AllRates.ElementAt(i).appliesTo</a>
                                                        }
                                                        else if (Model.AllRates.ElementAt(i).appliesToTypeID == 2)
                                                        {
                                                            @org
                                                            <a style="color:#BA9765" target="_blank" href='@string.Format("https://myplusbeta.publicisgroupe.net/Organisation?id={0}",@Model.AllRates.ElementAt(i).appliesToId)'>@Model.AllRates.ElementAt(i).appliesTo</a>
                                                        }
                                                        else if (Model.AllRates.ElementAt(i).appliesToTypeID == 3)
                                                        {
                                                            @orgGroup
                                                            <a style="color:#BA9765" target="_blank" href='@string.Format("https://myplusbeta.publicisgroupe.net/OrgGroup?groupid={0}",@Model.AllRates.ElementAt(i).appliesToId)'>@Model.AllRates.ElementAt(i).appliesTo</a>
                                                        }
                                                    </td>
                                                    <td>
                                                        @Model.AllRates.ElementAt(i).rateNotes
                                                    </td>
                                                    <td>
                                                        @Model.AllRates.ElementAt(i).lastModified
                                                    </td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-6">
                    @*Enquiries to be actioned*@
                    <div class="panel" data-panel-fullscreen="false" data-panel-close="false">
                        <div class="panel-hdr">
                            <i class="fal fa-cogs fa-2x color-black"></i> &nbsp; &nbsp;
                            <h2>Linguist studio breakdown</h2>
                        </div>
                        <div class="panel-container collapse">
                            <div class="panel-content">
                                <div class="form-group-row">
                                    <form id="LinguistStudioBreakdown">
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-5 d-flex align-items-center">Perfect matches/match plus:</label>
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {<div class="form-label col-sm-6">
                                                    <input type="text" class="form-control d-flex align-items-center" id="MemoryRateForPerfectMatches" value="@Model.MemoryRateForPerfectMatches">
                                                </div>
                                                <label class="form-label col-sm-1 d-flex align-items-center px-1">%</label>
                                            }
                                            else
                                            {
                                                <label class="form-label col-sm-6 d-flex align-items-center px-1">@Model.MemoryRateForPerfectMatches %</label>
                                            }
                                        </div>
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-5 d-flex align-items-center">Exact matches:</label>
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                <div class="form-label col-sm-6">
                                                    <input type="text" class="form-control d-flex align-items-center" id="MemoryRateForExactMatches" value="@Model.MemoryRateForExactMatches">
                                                </div>
                                                <label class="form-label col-sm-1 d-flex align-items-center px-1">%</label>
                                            }
                                            else
                                            {
                                                <label class="form-label col-sm-6 d-flex align-items-center px-1">@Model.MemoryRateForExactMatches %</label>
                                            }
                                        </div>
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-5 d-flex align-items-center">Repetitions:</label>
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                <div class="form-label col-sm-6">
                                                    <input type="text" class="form-control d-flex align-items-center" id="MemoryRateForRepetitions" value="@Model.MemoryRateForRepetitions">
                                                </div>
                                                <label class="form-label col-sm-1 d-flex align-items-center px-1">%</label>
                                            }
                                            else
                                            {
                                                <label class="form-label col-sm-6 d-flex align-items-center px-1">@Model.MemoryRateForRepetitions %</label>
                                            }
                                        </div>
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-5 d-flex align-items-center">95-99% matches:</label>
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                <div class="form-label col-sm-6">
                                                    <input type="text" class="form-control d-flex align-items-center" id="MemoryRateFor95To99Percent" value="@Model.MemoryRateFor95To99Percent">
                                                </div>
                                                <label class="form-label col-sm-1 d-flex align-items-center px-1">%</label>
                                            }
                                            else
                                            {
                                                <label class="form-label col-sm-6 d-flex align-items-center px-1">@Model.MemoryRateFor95To99Percent %</label>
                                            }
                                        </div>
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-5 d-flex align-items-center">85-94% matches:</label>
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                <div class="form-label col-sm-6">
                                                    <input type="text" class="form-control d-flex align-items-center" id="MemoryRateFor85To94Percent" value="@Model.MemoryRateFor85To94Percent">
                                                </div>
                                                <label class="form-label col-sm-1 d-flex align-items-center px-1">%</label>
                                            }
                                            else
                                            {
                                                <label class="form-label col-sm-6 d-flex align-items-center px-1">@Model.MemoryRateFor85To94Percent %</label>
                                            }
                                        </div>
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-5 d-flex align-items-center">75-84% matches:</label>
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                <div class="form-label col-sm-6">
                                                    <input type="text" class="form-control d-flex align-items-center" id="MemoryRateFor75To84Percent" value="@Model.MemoryRateFor75To84Percent">
                                                </div>
                                                <label class="form-label col-sm-1 d-flex align-items-center px-1">%</label>
                                            }
                                            else
                                            {
                                                <label class="form-label col-sm-6 d-flex align-items-center px-1">@Model.MemoryRateFor75To84Percent %</label>
                                            }
                                        </div>
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-5 d-flex align-items-center">50-74% matches:</label>
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                <div class="form-label col-sm-6">
                                                    <input type="text" class="form-control d-flex align-items-center" id="MemoryRateFor50To74Percent" value="@Model.MemoryRateFor50To74Percent">
                                                </div>
                                                <label class="form-label col-sm-1 d-flex align-items-center px-1">%</label>
                                            }
                                            else
                                            {
                                                <label class="form-label col-sm-6 d-flex align-items-center px-1">@Model.MemoryRateFor50To74Percent %</label>
                                            }
                                        </div>
                                        @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                        {
                                            <br />
                                            <br />
                                            <div class="form-group-row d-flex flex-row-reverse">
                                                <button id="editLinguistStudioBreakdown" class="@(Settings.Theme.IconPrefix) btn btn-outline-default" type="submit" title="Save" onclick="saveLinguistStudioBreakdown(@Model.Id);"><i class="far fa-cloud-upload fa-2x"></i></button>
                                            </div>
                                        }
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-6">
                    @*Enquiries to be actioned*@
                    <div class="panel" data-panel-fullscreen="false" data-panel-close="false">
                        <div class="panel-hdr">
                            <i class="fal fa-list-alt fa-2x color-black"></i> &nbsp; &nbsp;
                            <h2>Linguist internal notes</h2>
                        </div>
                        <div class="panel-container collapse">
                            <div class="panel-content">
                                <form id="NotesForm">
                                    <div class="form-group-row">
                                        <textarea asp-for="@Model.Notes" style="width:100%; height: 100px;"></textarea>
                                    </div>
                                    <br />
                                    <div class="form-group-row">
                                        <label class="form-label d-flex" style="color:black;">Special notes/details about rates:</label>
                                        <textarea asp-for="@Model.RatesNotes" style="width:100%; height: 100px;"></textarea>
                                    </div>
                                    <div class="form-group-row d-flex flex-row-reverse">
                                        <button id="NotesSave" class="@(Settings.Theme.IconPrefix) btn btn-outline-default" type="submit" title="Save"><i class="far fa-cloud-upload fa-2x"></i></button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-6">
                    @*Enquiries to be actioned*@
                    <div class="panel" data-panel-fullscreen="false" data-panel-close="false">
                        <div class="panel-hdr">
                            <i class="ni ni-user fa-2x color-black"></i> &nbsp; &nbsp;
                            <h2>Linguist personal information</h2>
                        </div>
                        <div class="panel-container collapse">
                            <div class="panel-content">
                                <form id="PersonalForm">
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        <label class="form-label col-sm-4 d-flex align-items-center">Registration number:</label>
                                        <div class="col-sm-6">
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <input asp-for="@(Model.AgencyCompanyRegistrationNumber)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput">
                                                }
                                            }
                                            else
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <input asp-for="@(Model.AgencyCompanyRegistrationNumber)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput" disabled>
                                                }
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        <label class="form-label col-sm-4 d-flex align-items-center">Number of linguists:</label>
                                        <div class="col-sm-6">
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <input asp-for="@(Model.AgencyNumberOfLinguists)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput">
                                                }
                                            }
                                            else
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <input asp-for="@(Model.AgencyNumberOfLinguists)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput" disabled>
                                                }
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        <label class="form-label col-sm-4 d-flex align-items-center">Number of multimedia operators:</label>
                                        <div class="col-sm-6">
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <input asp-for="@(Model.AgencyNumberOfDtporMultimediaOps)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput">
                                                }
                                            }
                                            else
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <input asp-for="@(Model.AgencyNumberOfDtporMultimediaOps)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput" disabled>
                                                }
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        <label class="form-label col-sm-4 d-flex align-items-center">Gender</label>
                                        <div class="col-sm-6">
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                <select name="@nameof(Model.MainContactGender)" class="select2 form-control" id="gender-select">
                                                    @if (Model.MainContactGender == true)
                                                    {
                                                        <option value="null">Unknown/not applicable</option>
                                                        <option value="true" selected="selected">Female</option>
                                                        <option value="false">Male</option>
                                                    }
                                                    else if (Model.MainContactGender == false)
                                                    {
                                                        <option value="null">Unknown/not applicable</option>
                                                        <option value="true">Female</option>
                                                        <option value="false" selected="selected">Male</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="null" selected="selected">Unknown/not applicable</option>
                                                        <option value="true">Female</option>
                                                        <option value="false">Male</option>
                                                    }
                                                </select>
                                            }
                                            else
                                            {
                                                <select name="@nameof(Model.MainContactGender)" class="select2 form-control" id="gender-select" disabled>
                                                    @if (Model.MainContactGender == true)
                                                    {
                                                        <option value="null">Unknown/not applicable</option>
                                                        <option value="true" selected="selected">Female</option>
                                                        <option value="false">Male</option>
                                                    }
                                                    else if (Model.MainContactGender == false)
                                                    {
                                                        <option value="null">Unknown/not applicable</option>
                                                        <option value="true">Female</option>
                                                        <option value="false" selected="selected">Male</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="null" selected="selected">Unknown/not applicable</option>
                                                        <option value="true">Female</option>
                                                        <option value="false">Male</option>
                                                    }
                                                </select>
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group row" style="margin-bottom:0.5rem;">
                                        <label class="form-label col-sm-4 d-flex align-items-center">Date of birth</label>
                                        <div class="input-daterange input-group col-sm-6" id="datepicker-5">
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <input class="form-control" type="date" name="date" style="width:150px;" asp-for="@Model.MainContactDob" />
                                                }
                                            }
                                            else
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <input class="form-control" type="date" name="date" style="width:150px;" asp-for="@Model.MainContactDob" readonly>
                                                }
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        <label class="form-label col-sm-4 d-flex align-items-center">Country of nationality</label>
                                        <div class="col-sm-6">
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <select name="@nameof(Model.MainContactNationalityCountryId)" class="select2 form-control" id="countryNationality-select">
                                                        <option>(Please select)</option>
                                                        @foreach (var country in Model.AllCountries)
                                                        {
                                                            @if (Model.MainContactNationalityCountryId == country.Id)
                                                            {
                                                                <option value="@country.Id" selected="selected">@country.CountryName</option>
                                                            }
                                                            else
                                                            {
                                                                <option value="@country.Id">@country.CountryName</option>
                                                            }
                                                        }
                                                    </select>
                                                }
                                            }
                                            else
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <select name="@nameof(Model.MainContactNationalityCountryId)" class="select2 form-control" id="countryNationality-select" disabled>
                                                        @foreach (var country in Model.AllCountries)
                                                        {
                                                            @if (Model.MainContactNationalityCountryId == country.Id)
                                                            {
                                                                <option value="@country.Id" selected="selected">@country.CountryName</option>
                                                            }
                                                            else
                                                            {
                                                                <option value="@country.Id">@country.CountryName</option>
                                                            }
                                                        }
                                                    </select>
                                                }
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        <label class="form-label col-sm-4 d-flex align-items-center">Address:</label>
                                        <div class="col-sm-6">
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <input asp-for="@(Model.Address1)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput">
                                                }
                                            }
                                            else
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <input asp-for="@(Model.Address1)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput" disabled>
                                                }
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        <label class="form-label col-sm-4 d-flex align-items-center">City:</label>
                                        <div class="col-sm-6">
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <input asp-for="@(Model.CountyOrState)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput">
                                                }
                                            }
                                            else
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <input asp-for="@(Model.CountyOrState)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput" disabled>
                                                }
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        <label class="form-label col-sm-4 d-flex align-items-center">E-mail address:</label>
                                        <div class="col-sm-6">
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <input asp-for="@(Model.EmailAddress)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput">
                                                }
                                            }
                                            else
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <input asp-for="@(Model.EmailAddress)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput" disabled>
                                                }
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        <label class="form-label col-sm-4 d-flex align-items-center">Secondary e-mail address:</label>
                                        <div class="col-sm-6">
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <input asp-for="@(Model.SecondaryEmailAddress)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput">
                                                }
                                            }
                                            else
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <input asp-for="@(Model.SecondaryEmailAddress)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput" disabled>
                                                }
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        <label class="form-label col-sm-4 d-flex align-items-center">Skype:</label>
                                        <div class="col-sm-6">
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <input asp-for="@(Model.SkypeId)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput">
                                                }
                                            }
                                            else
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <input asp-for="@(Model.SkypeId)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput" disabled>
                                                }
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        <label class="form-label col-sm-4 d-flex align-items-center">Main landline:</label>
                                        <div class="col-sm-6 form-group row">
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <div class="col-sm-4">
                                                        <select name="@nameof(Model.MainLandlineCountryId)" class="select2 form-control" id="main-landline-select">
                                                            <option value=""></option>
                                                            @foreach (var main_landline in Model.CountryNamesAndPrefix)
                                                            {
                                                                if (main_landline.Id == Model.MainLandlineCountryId)
                                                                {
                                                                    <option value="@main_landline.Id.ToString()" selected>+@main_landline.Prefix</option>
                                                                }
                                                                <option value="@main_landline.Id.ToString()">+@main_landline.Prefix</option>

                                                            }
                                                        </select>
                                                    </div>
                                                    <div class="col-sm-8">
                                                        <input asp-for="@(Model.MainLandlineNumber)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput">
                                                    </div>
                                                }
                                            }
                                            else
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <div class="col-sm-4">
                                                        <select name="@nameof(Model.MainLandlineCountryId)" class="select2 form-control" id="main-landline-select" disabled>
                                                            <option value=""></option>
                                                            @foreach (var main_landline in Model.CountryNamesAndPrefix)
                                                            {
                                                                if (main_landline.Id == Model.MainLandlineCountryId)
                                                                {
                                                                    <option value="@main_landline.Id.ToString()" selected>+@main_landline.Prefix</option>
                                                                }
                                                                <option value="@main_landline.Id.ToString()">+@main_landline.Prefix</option>

                                                            }
                                                        </select>
                                                    </div>
                                                    <div class="col-sm-8">
                                                        <input asp-for="@(Model.MainLandlineNumber)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput" disabled>
                                                    </div>
                                                }
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        <label class="form-label col-sm-4 d-flex align-items-center">Secondary landline:</label>
                                        <div class="col-sm-6 form-group row">
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <div class="col-sm-4">
                                                        <select name="@nameof(Model.SecondaryLandlineCountryId)" class="select2 form-control" id="secondary-landline-select">
                                                            <option value=""></option>
                                                            @foreach (var secondary_landline in Model.CountryNamesAndPrefix)
                                                            {
                                                                if (secondary_landline.Id == Model.MainLandlineCountryId)
                                                                {
                                                                    <option value="@secondary_landline.Id.ToString()" selected>+@secondary_landline.Prefix</option>
                                                                }
                                                                <option value="@secondary_landline.Id.ToString()">+@secondary_landline.Prefix</option>

                                                            }
                                                        </select>
                                                    </div>
                                                    <div class="col-sm-8">
                                                        <input asp-for="@(Model.SecondaryLandlineNumber)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput">
                                                    </div>
                                                }
                                            }
                                            else
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <div class="col-sm-4">
                                                        <select name="@nameof(Model.SecondaryLandlineCountryId)" class="select2 form-control" id="secondary-landline-select" disabled>
                                                            <option value=""></option>
                                                            @foreach (var secondary_landline in Model.CountryNamesAndPrefix)
                                                            {
                                                                if (secondary_landline.Id == Model.MainLandlineCountryId)
                                                                {
                                                                    <option value="@secondary_landline.Id.ToString()" selected>+@secondary_landline.Prefix</option>
                                                                }
                                                                <option value="@secondary_landline.Id.ToString()">+@secondary_landline.Prefix</option>

                                                            }
                                                        </select>
                                                    </div>
                                                    <div class="col-sm-8">
                                                        <input asp-for="@(Model.SecondaryLandlineNumber)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput" disabled>
                                                    </div>
                                                }
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group row" style="margin-bottom:0.5rem">
                                        <label class="form-label col-sm-4 d-flex align-items-center">Mobile:</label>
                                        <div class="col-sm-6 form-group row">
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <div class="col-sm-4">
                                                        <select name="@nameof(Model.MobileCountryId)" class="select2 form-control" id="mobile-select">
                                                            <option value=""></option>
                                                            @foreach (var mobile in Model.CountryNamesAndPrefix)
                                                            {
                                                                if (mobile.Id == Model.MobileCountryId)
                                                                {
                                                                    <option value="@mobile.Id.ToString()" selected>+@mobile.Prefix</option>
                                                                }
                                                                <option value="@mobile.Id.ToString()">+@mobile.Prefix</option>

                                                            }
                                                        </select>
                                                    </div>
                                                    <div class="col-sm-8">
                                                        <input asp-for="@(Model.MobileNumber)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput">
                                                    </div>
                                                }
                                            }
                                            else
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <div class="col-sm-4">
                                                        <select name="@nameof(Model.MobileCountryId)" class="select2 form-control" id="mobile-select" disabled>
                                                            <option value=""></option>
                                                            @foreach (var mobile in Model.CountryNamesAndPrefix)
                                                            {
                                                                if (mobile.Id == Model.MobileCountryId)
                                                                {
                                                                    <option value="@mobile.Id.ToString()" selected>+@mobile.Prefix</option>
                                                                }
                                                                <option value="@mobile.Id.ToString()">+@mobile.Prefix</option>

                                                            }
                                                        </select>
                                                    </div>
                                                    <div class="col-sm-8">
                                                        <input asp-for="@(Model.MobileNumber)" style="color: black;" type="text" class="form-control form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput" disabled>
                                                    </div>
                                                }
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group-row">
                                        <div class="custom-control custom-switch col-sm-9">
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <input type="checkbox" asp-for="@Model.WouldSignWitnessStatementString" class="custom-control-input" id="WitnessStatement" />
                                                }
                                            }
                                            else
                                            {
                                                @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                                {
                                                    <input type="checkbox" asp-for="@Model.WouldSignWitnessStatementString" class="custom-control-input" id="WitnessStatement" disabled />
                                                }
                                            }

                                            @if (Model.Gdprstatus != 0 && Model.Gdprstatus != 2)
                                            {
                                                <label class="custom-control-label" for="WitnessStatement">Prepared to sign witness statement</label>
                                            }
                                        </div>

                                    </div>
                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                    {
                                        <div class="form-group-row d-flex flex-row-reverse">
                                            <button id="PersonalInformationSave" class="@(Settings.Theme.IconPrefix) btn btn-outline-default" type="submit" title="Save"><i class="far fa-cloud-upload fa-2x"></i></button>
                                        </div>
                                    }
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-6">
                    @*Enquiries to be actioned*@
                    <div class="panel" data-panel-fullscreen="false" data-panel-close="false">
                        <div class="panel-hdr">
                            <i class="fal fa-file fa-2x color-black"></i> &nbsp; &nbsp;
                            <h2>Linguist registration documents</h2>
                        </div>
                        <div class="panel-container collapse">
                            <div class="panel-content">
                                <div class="form-group-row">
                                    <h5 style="color:black">Documents and GDPR</h5>
                                    <br />
                                    <form>
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-3 d-flex align-items">GDPR Status</label>
                                            @if (@Model.pGDPRStatus == "Actively opted in")
                                            {
                                                <label class="form-label col-sm d-flex text-success">@Model.pGDPRStatus</label>
                                            }
                                            else
                                            {
                                                <label class="form-label col-sm d-flex text-danger">@Model.pGDPRStatus</label>
                                            }
                                            <div class="form-label col-sm">
                                                <a href="@Model.GDPRDocPath" class="" target="_blank">@Model.GDPRDocFileName</a>
                                            </div>
                                            <label class="form-label col-sm">@Model.LinguistGDPRStatus</label>
                                        </div>
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-3 d-flex align-items-center">GDPR accepted on</label>
                                            <label class="form-label col-sm-5">
                                                @if (Model.GdpracceptedDateTime.HasValue)
                                                {
                                                    @Model.GdpracceptedDateTime.Value.ToString("dd MMMM yyyy HH:mm")
                                                }
                                            </label>
                                        </div>
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-3 d-flex align-items-center">Non EEA clause</label>
                                            @if (Model.NonEEAClauseStatus == 1)
                                            {<label class="form-label col-sm-5">Clause for non-EEA linguist - Accepted</label>}
                                            else if (Model.NonEEAClauseStatus == 2)
                                            {<label class="form-label col-sm-5">Clause for non-EEA linguist - Declined</label>}
                                            else if (Model.NonEEAClauseStatus == 3)
                                            {<label class="form-label col-sm-5">Clause for non-EEA linguist - Pending acceptance</label>}
                                            else if (Model.NonEEAClauseStatus == 4)
                                            {<label class="form-label col-sm-5">Not required (the linguist is within the EU)</label>}
                                            else
                                            {<label class="form-label col-sm-5">Unknown</label>}
                                        </div>
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-3 d-flex align-items-center">NDA (non-disclosure agreement)</label>
                                            <div class="form-label col-sm-7" id="nda-file-div" hidden>
                                                <a href="@Model.NDAFilePath" class="" target="_blank" id="nda-file-tag">@Model.NDAFileName</a>
                                            </div>

                                            <div class="form-label col-sm-7" id="nda-no-file-div" hidden>
                                                <label class="form-label d-flex align-items-center">No file uploaded yet</label>
                                            </div>

                                            <div class="form-label col-sm" id="nda-div" hidden>
                                                <button id="uploadNDAbutton" class="@(Settings.Theme.IconPrefix) btn btn-outline-default" type="submit" title="Save" onclick="uploadNDA(@Model.Id);"><i class="far fa-cloud-upload fa-2x"></i></button>
                                            </div>
                                        </div>
                                        @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                        {
                                            <div class="form-group row" style="margin-bottom:0.5rem">
                                                <div class="col-sm-3"></div>
                                                <div class="form-label col-sm row px-4">
                                                    <input type="file" id="nda-file-upload" onchange="showUploadNDA()">
                                                </div>
                                            </div>
                                        }
                                        <br />
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-3 d-flex align-items-center">Contract/Service agreement</label>
                                            <div class="form-label col-sm-7" id="contract-service-file-div" hidden>
                                                <a href="@Model.ContractFilePath" class="" target="_blank" id="contract-service-file-tag">@Model.ContractFileName</a>
                                            </div>

                                            <div class="form-label col-sm-7" id="contract-service-no-file-div" hidden>
                                                <label class="form-label d-flex align-items-center">No file uploaded yet</label>
                                            </div>

                                            <div class="form-label col-sm" id="contract-service-div" hidden>
                                                <button id="uploadContractServicebutton" class="@(Settings.Theme.IconPrefix) btn btn-outline-default" type="submit" title="Save" onclick="uploadContractService(@Model.Id);"><i class="far fa-cloud-upload fa-2x"></i></button>
                                            </div>
                                        </div>
                                        @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                        {
                                            <div class="form-group row" style="margin-bottom:0.5rem">
                                                <div class="col-sm-3"></div>
                                                <div class="form-label col-sm row px-4">
                                                    <input type="file" id="contract-service-file-upload" onchange="showUploadContractService()">
                                                </div>
                                            </div>
                                        }
                                        <br />
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-3 d-flex align-items-center">Registration form</label>

                                            <div class="form-label col-sm-7" id="registration-form-file-div" hidden>
                                                <a href="@Model.RegistrationFormFileName" class="" target="_blank" id="registration-form-file-tag">@Model.RegistrationFormName</a>
                                            </div>

                                            <div class="form-label col-sm-7" id="registration-form-no-file-div" hidden>
                                                <label class="form-label d-flex align-items-center">No file uploaded yet</label>
                                            </div>

                                            <div class="form-label col-sm" id="registration-form-div" hidden>
                                                <button id="uploadRegistrationFormbutton" class="@(Settings.Theme.IconPrefix) btn btn-outline-default" type="submit" title="Save" onclick="uploadRegistrationForm(@Model.Id);"><i class="far fa-cloud-upload fa-2x"></i></button>
                                            </div>
                                        </div>
                                        @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                        {
                                            <div class="form-group row" style="margin-bottom:0.5rem">
                                                <div class="col-sm-3"></div>
                                                <div class="form-label col-sm row px-4">
                                                    <input type="file" id="registration-form-file-upload" onchange="showUploadRegistrationForm()">
                                                </div>
                                            </div>
                                        }
                                        <br />
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-3 d-flex align-items-center">Vendor contract</label>

                                            <div class="form-label col-sm-7" id="vendor-contract-file-div" hidden>
                                                <a href="@Model.VendorContractFileName" class="" target="_blank" id="vendor-contract-file-tag">@Model.VendorContractName</a>
                                            </div>

                                            <div class="form-label col-sm-7" id="vendor-contract-no-file-div" hidden>
                                                <label class="form-label d-flex align-items-center">No file uploaded yet</label>
                                            </div>

                                            <div class="form-label col-sm" id="vendor-contract-div" hidden>
                                                <button id="uploadVendorContractbutton" class="@(Settings.Theme.IconPrefix) btn btn-outline-default" type="submit" title="Save" onclick="uploadVendorContract(@Model.Id);"><i class="far fa-cloud-upload fa-2x"></i></button>
                                            </div>
                                        </div>
                                        @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                        {
                                            <div class="form-group row" style="margin-bottom:0.5rem">
                                                <div class="col-sm-3"></div>
                                                <div class="form-label col-sm row px-4">
                                                    <input type="file" id="vendor-contract-file-upload" onchange="showUploadVendorContract()">
                                                </div>
                                            </div>
                                        }
                                        <br />
                                        @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.TeamId == 13 || Model.LoggedInEmployee.Id == 1246)
                                        {
                                            <div class="form-group row" style="margin-bottom:0.5rem">
                                                <label class="form-label col-sm-3 d-flex align-items-center">Proof of ID</label>

                                                <div class="form-label col-sm-7" id="proof-id-file-div" hidden>
                                                    <a href="@Model.ProofIDFileName" class="" target="_blank" id="proof-id-file-tag">@Model.ProofIDName</a>
                                                </div>

                                                <div class="form-label col-sm-7" id="proof-id-no-file-div" hidden>
                                                    <label class="form-label d-flex align-items-center">No file uploaded yet</label>
                                                </div>


                                                <div class="form-label col-sm" id="proof-id-div" hidden>
                                                    <button id="uploadProofIDbutton" class="@(Settings.Theme.IconPrefix) btn btn-outline-default" type="submit" title="Save" onclick="uploadProofID(@Model.Id);"><i class="far fa-cloud-upload fa-2x"></i></button>
                                                </div>
                                            </div>

                                            <div class="form-group row" style="margin-bottom:0.5rem">

                                                <div class="col-sm-3"></div>
                                                <div class="form-label col-sm row px-4">
                                                    <input type="file" id="proof-id-file-upload" onchange="showUploadProofID()">
                                                </div>


                                            </div>
                                            <br />
                                            <div class="form-group row" style="margin-bottom:0.5rem">
                                                <label class="form-label col-sm-3 d-flex align-items-center">Proof of Bank</label>

                                                <div class="form-label col-sm-7" id="proof-bank-file-div" hidden>
                                                    <a href="@Model.ProofBankFileName" class="" target="_blank" id="proof-bank-file-tag">@Model.ProofBankName</a>
                                                </div>

                                                <div class="form-label col-sm-7" id="proof-bank-no-file-div" hidden>
                                                    <label class="form-label d-flex align-items-center">No file uploaded yet</label>
                                                </div>


                                                <div class="form-label col-sm" id="proof-bank-div" hidden>
                                                    <button id="uploadProofBankbutton" class="@(Settings.Theme.IconPrefix) btn btn-outline-default" type="submit" title="Save" onclick="uploadProofBank(@Model.Id);"><i class="far fa-cloud-upload fa-2x"></i></button>
                                                </div>
                                            </div>

                                            <div class="form-group row" style="margin-bottom:0.5rem">

                                                <div class="col-sm-3"></div>
                                                <div class="form-label col-sm row px-4">
                                                    <input type="file" id="proof-bank-file-upload" onchange="showUploadProofBank()">
                                                </div>


                                            </div>
                                            <br />
                                            <div class="form-group row" style="margin-bottom:0.5rem">
                                                <label class="form-label col-sm-3 d-flex align-items-center">Proof of Company</label>

                                                <div class="form-label col-sm-7" id="proof-company-file-div" hidden>
                                                    <a href="@Model.ProofCompanyFileName" class="" target="_blank" id="proof-company-file-tag">@Model.ProofCompanyName</a>
                                                </div>

                                                <div class="form-label col-sm-7" id="proof-company-no-file-div" hidden>
                                                    <label class="form-label d-flex align-items-center">No file uploaded yet</label>
                                                </div>


                                                <div class="form-label col-sm" id="proof-company-div" hidden>
                                                    <button id="uploadProofCompanybutton" class="@(Settings.Theme.IconPrefix) btn btn-outline-default" type="submit" title="Save" onclick="uploadProofCompany(@Model.Id);"><i class="far fa-cloud-upload fa-2x"></i></button>
                                                </div>
                                            </div>

                                            <div class="form-group row" style="margin-bottom:0.5rem">

                                                <div class="col-sm-3"></div>
                                                <div class="form-label col-sm row px-4">
                                                    <input type="file" id="proof-company-file-upload" onchange="showUploadProofCompany()">
                                                </div>


                                            </div>
                                            <br />
                                        }
                                    </form>

                                    <h5 style="color:black">Referees</h5>

                                    <br />
                                    <form id="RefereesForm">
                                        <div class="form-group col-sm-12 row" style="margin-bottom:0.5rem">
                                            <div class="col-sm-6">

                                                <div class="custom-control custom-switch">
                                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                    {
                                                        <input type="checkbox" class="custom-control-input col-sm-1" asp-for="@(Model.Referee1ReceivedString)" id="Referee1Received">
                                                    }
                                                    else
                                                    {
                                                        <input type="checkbox" class="custom-control-input col-sm-1" asp-for="@(Model.Referee1ReceivedString)" id="Referee1Received" disabled>
                                                    }
                                                    <label class="custom-control-label" for="Referee1Received">
                                                        <i class="fal fa-info-circle" style="font-size: 1.2rem;" data-toggle="popover" data-trigger="hover" data-placement="top" title="" data-html="true" data-content="Reference received."></i>
                                                    </label>
                                                </div>

                                                <div class="form-group row" style="margin-bottom:0.5rem">
                                                    <label class="form-label col-sm-5 d-flex align-items-center">Referee name:</label>
                                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                    {
                                                        <input asp-for="@(Model.Referee1Name)" style="color: black;" type="text" class="form-control col-sm-5 form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput">
                                                    }
                                                    else
                                                    {
                                                        <input asp-for="@(Model.Referee1Name)" style="color: black;" type="text" class="form-control col-sm-5 form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput" disabled>
                                                    }
                                                </div>
                                                <div class="form-group row" style="margin-bottom:0.5rem">
                                                    <label class="form-label col-sm-5 d-flex align-items-center">Referee phone number:</label>
                                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                    {
                                                        <input asp-for="@(Model.Referee1Phone)" style="color: black;" type="text" class="form-control col-sm-5 form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput">
                                                    }
                                                    else
                                                    {
                                                        <input asp-for="@(Model.Referee1Phone)" style="color: black;" type="text" class="form-control col-sm-5 form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput" disabled>
                                                    }
                                                </div>
                                                <div class="form-group row" style="margin-bottom:0.5rem">
                                                    <label class="form-label col-sm-5 d-flex align-items-center">Referee e-mail:</label>
                                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                    {
                                                        <input asp-for="@(Model.Referee1EmailAddress)" style="color: black;" type="text" class="form-control col-sm-5 form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput">
                                                    }
                                                    else
                                                    {
                                                        <input asp-for="@(Model.Referee1EmailAddress)" style="color: black;" type="text" class="form-control col-sm-5 form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput" disabled>
                                                    }
                                                </div>
                                            </div>
                                            <div class="col-sm-6">
                                                <div class="form-group">
                                                    <div class="custom-control custom-switch">
                                                        @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                        {
                                                            <input type="checkbox" class="custom-control-input" asp-for="@(Model.Referee2ReceivedString)" id="Referee2Received">
                                                        }
                                                        else
                                                        {
                                                            <input type="checkbox" class="custom-control-input" asp-for="@(Model.Referee2ReceivedString)" id="Referee2Received" disabled>
                                                        }
                                                        <label class="custom-control-label" for="Referee2Received">
                                                            <i class="fal fa-info-circle" style="font-size: 1.2rem;" data-toggle="popover" data-trigger="hover" data-placement="top" title="" data-html="true" data-content="Reference received."></i>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="form-group row" style="margin-bottom:0.5rem">
                                                    <label class="form-label col-sm-5 d-flex align-items-center">Referee name:</label>
                                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                    {
                                                        <input asp-for="@(Model.Referee2Name)" style="color: black;" type="text" class="form-control col-sm-5 form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput">
                                                    }
                                                    else
                                                    {
                                                        <input asp-for="@(Model.Referee2Name)" style="color: black;" type="text" class="form-control col-sm-5 form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput" disabled>
                                                    }
                                                </div>
                                                <div class="form-group row" style="margin-bottom:0.5rem">
                                                    <label class="form-label col-sm-5 d-flex align-items-center">Referee phone number:</label>
                                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                    {
                                                        <input asp-for="@(Model.Referee2Phone)" style="color: black;" type="text" class="form-control col-sm-5 form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput">
                                                    }
                                                    else
                                                    {
                                                        <input asp-for="@(Model.Referee2Phone)" style="color: black;" type="text" class="form-control col-sm-5 form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput" disabled>
                                                    }
                                                </div>
                                                <div class="form-group row" style="margin-bottom:0.5rem">
                                                    <label class="form-label col-sm-5 d-flex align-items-center">Referee e-mail:</label>
                                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                                    {
                                                        <input asp-for="@(Model.Referee2EmailAddress)" style="color: black;" type="text" class="form-control col-sm-5 form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput">
                                                    }
                                                    else
                                                    {
                                                        <input asp-for="@(Model.Referee2EmailAddress)" style="color: black;" type="text" class="form-control col-sm-5 form-control-md rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" for="simpleinput" disabled>
                                                    }
                                                </div>
                                            </div>
                                        </div>
                                        @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                        {
                                            <div class="form-group-row d-flex flex-row-reverse">
                                                <button id="RefereesFormSave" class="@(Settings.Theme.IconPrefix) btn btn-outline-default" type="submit" title="Save"><i class="far fa-cloud-upload fa-2x"></i></button>
                                            </div>
                                        }
                                    </form>
                                    <br />
                                    <h5 style="color:black">Data</h5>
                                    <br />
                                    <form>
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-3 d-flex align-items-center">Added on</label>
                                            <label class="form-label col-sm-5">@Model.CreatedDate.ToString("dd MMMM yyyy HH:mm")</label>
                                        </div>
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-3 d-flex align-items-center">Added by</label>
                                            @*<label class="form-label col-sm-9">Some name here</label>*@
                                            <div class="form-label col-sm-5">@await Component.InvokeAsync("EmployeeDetails", new { employeeId = Model.CreatedByEmployeeId, displayJobTitle = true })</div>
                                        </div>
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-3 d-flex align-items-center">Last modified on</label>
                                            <label class="form-label col-sm-5">
                                                @if (Model.LastModifiedDate.HasValue)
                                                {
                                                    @Model.LastModifiedDate.Value.ToString("dd MMMM yyyy HH:mm")
                                                }
                                            </label>
                                        </div>
                                        <div class="form-group row" style="margin-bottom:0.5rem">
                                            <label class="form-label col-sm-3 d-flex align-items-center">Last modified by</label>
                                            @*<label class="form-label col-sm-9">Some name here</label>*@
                                            <div class="form-label col-sm-5">@await Component.InvokeAsync("EmployeeDetails", new { employeeId = Model.LastModifiedByEmployeeId, displayJobTitle = true })</div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-6">
                    @*Enquiries to be actioned*@
                    <div class="panel" data-panel-fullscreen="false" data-panel-close="false">
                        <div class="panel-hdr">
                            <i class="fal fa-file-invoice-dollar fa-2x color-black"></i> &nbsp; &nbsp;
                            <h2>Linguist invoicing details</h2>
                        </div>
                        <div class="panel-container collapse">
                            <div class="panel-content">

                                <div class="form-group-row">
                                    <form id="LinguistInvoicingForm">
                                        <div class="form-group row">
                                            <label class="form-label col-sm-3 d-flex align-items-center">Payment method</label>
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                <select name="@nameof(Model.AgreedPaymentMethodId)" class="select2 form-control" id="method-select">
                                                    <option value="0">(Please select)</option>
                                                    @foreach (var method in Model.PaymentMethods)
                                                    {
                                                        @if (Model.AgreedPaymentMethodId == method.Id)
                                                        {
                                                            <option value="@method.Id" selected="selected">@method.Name</option>
                                                        }
                                                        else
                                                        {
                                                            <option value="@method.Id">@method.Name</option>
                                                        }
                                                    }
                                                </select>
                                            }
                                            else
                                            {
                                                <select name="@nameof(Model.AgreedPaymentMethodId)" class="select2 form-control" id="method-select" disabled>
                                                    @foreach (var method in Model.PaymentMethods)
                                                    {
                                                        @if (Model.AgreedPaymentMethodId == method.Id)
                                                        {
                                                            <option value="@method.Id" selected="selected">@method.Name</option>
                                                        }
                                                        else
                                                        {
                                                            <option value="@method.Id">@method.Name</option>
                                                        }
                                                    }
                                                </select>
                                            }
                                        </div>
                                        <div class="form-group row">
                                            <label class="form-label col-sm-3 d-flex align-items-center">Currency</label>
                                            @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                            {
                                                <select name="@nameof(Model.CurrencyId)" class="select2 form-control" id="currency-select">
                                                    <option value="0">(Please select)</option>
                                                    @foreach (var currency in Model.PaymentCurrencies)
                                                    {
                                                        @if (Model.CurrencyId == currency.Id)
                                                        {
                                                            <option value="@currency.Id" selected="selected">@currency.Name</option>
                                                        }
                                                        else
                                                        {
                                                            <option value="@currency.Id">@currency.Name</option>
                                                        }
                                                    }
                                                </select>
                                            }
                                            else
                                            {
                                                <select name="@nameof(Model.CurrencyId)" class="select2 form-control" id="currency-select" disabled>
                                                    @foreach (var currency in Model.PaymentCurrencies)
                                                    {
                                                        @if (Model.CurrencyId == currency.Id)
                                                        {
                                                            <option value="@currency.Id" selected="selected">@currency.Name</option>
                                                        }
                                                        else
                                                        {
                                                            <option value="@currency.Id">@currency.Name</option>
                                                        }
                                                    }
                                                </select>
                                            }
                                        </div>
                                        @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.TeamId == 13 || Model.LoggedInEmployee.TeamId == 17 || Model.LoggedInEmployee.Id == 1246)
                                        {
                                            <div class="form-group row">
                                                <label class="form-label col-sm-3 form-control-md" for="simpleinput">VAT number:</label>
                                                <input type="text" asp-for="@Model.Vatnumber" class="form-control form-control-md col-sm-7 rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" id="VAT">
                                            </div>
                                            <div class="form-group row">
                                                <label class="form-label col-sm-3 form-control-md" for="simpleinput">Tax Identifcation number:</label>
                                                <input type="text" asp-for="@Model.TINNumber" class="form-control form-control-md col-sm-7 rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" id="TIN">
                                            </div>
                                            <div class="form-group row">
                                                <label class="form-label col-sm-3 form-control-md" for="simpleinput">Bank branch name:</label>
                                                <input type="text" asp-for="@Model.LinguisticSupplierInvoiceTemplate.BankBranchName" class="form-control form-control-md col-sm-7 rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" id="BankBranchName">
                                            </div>
                                            <div class="form-group row">
                                                <label class="form-label col-sm-3 form-control-md" for="simpleinput">Bank branch address:</label>
                                                <input type="text" asp-for="@Model.LinguisticSupplierInvoiceTemplate.BankBranchAddress" class="form-control form-control-md col-sm-7 rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" id="BankBranchAddress">
                                            </div>
                                            <div class="form-group row">
                                                <label class="form-label col-sm-3 form-control-md" for="simpleinput">Bank branch city:</label>
                                                <input type="text" asp-for="@Model.LinguisticSupplierInvoiceTemplate.BankBranchCity" class="form-control form-control-md col-sm-7 rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" id="BankBranchCity">
                                            </div>
                                            @if (Model.LinguisticSupplierInvoiceTemplate != null)
                                            {
                                                @foreach (var country in Model.AllCountries)
                                                {
                                                    @if (Convert.ToString(country.Id) == Model.LinguisticSupplierInvoiceTemplate.BankBranchCountry && Model.LinguisticSupplierInvoiceTemplate.BankBranchCountry != null)
                                                    {
                                                        <div class="form-group row">
                                                            <label class="form-label col-sm-3 form-control-md" for="simpleinput">Bank branch country:</label>
                                                            <input type="text" asp-for="@country.CountryName" class="form-control form-control-md col-sm-7 rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" id="BankBranchCountry">
                                                        </div>
                                                    }

                                                }
                                            }
                                            else
                                            {
                                                <div class="form-group row">
                                                    <label class="form-label col-sm-3 form-control-md" for="simpleinput">Bank branch country:</label>
                                                    <input type="text" asp-for="@Model.LinguisticSupplierInvoiceTemplate.BankBranchCountry" class="form-control form-control-md col-sm-7 rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" id="BankBranchCountry">
                                                </div>
                                            }
                                            <div class="form-group row">
                                                <label class="form-label col-sm-3 form-control-md" for="simpleinput">Bank branch post code:</label>
                                                <input type="text" asp-for="@Model.LinguisticSupplierInvoiceTemplate.BankBranchPostCode" class="form-control form-control-md col-sm-7 rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" id="BankBranchPostCode">
                                            </div>
                                            <div class="form-group row">
                                                <label class="form-label col-sm-3 form-control-md" for="simpleinput">Bank account name:</label>
                                                <input type="text" asp-for="@Model.LinguisticSupplierInvoiceTemplate.BankAccountName" class="form-control form-control-md col-sm-7 rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" id="BankAccountName">
                                            </div>
                                            <div class="form-group row">
                                                <label class="form-label col-sm-3 form-control-md" for="simpleinput">Account number:</label>
                                                <input type="text" asp-for="@Model.LinguisticSupplierInvoiceTemplate.BankAccountNumber" class="form-control form-control-md col-sm-7 rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" id="BankAccountNumber">
                                            </div>
                                            <div class="form-group row">
                                                <label class="form-label col-sm-3 form-control-md" for="simpleinput">SWIFT/BIC:</label>
                                                <input type="text" asp-for="@Model.LinguisticSupplierInvoiceTemplate.BankAccountSwiftorBic" class="form-control form-control-md col-sm-7 rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" id="BankAccountSwiftorBic">
                                            </div>
                                            <div class="form-group row">
                                                <label class="form-label col-sm-3 form-control-md" for="simpleinput">IBAN:</label>
                                                <input type="text" asp-for="@Model.LinguisticSupplierInvoiceTemplate.BankAccountIban" class="form-control form-control-md col-sm-7 rounded-0 border-top-0 border-left-0 border-right-0 px-0 bg-transparent" id="BankAccountIban">
                                            </div>
                                            <div class="form-group-row d-flex flex-row-reverse">
                                                <button id="editLinguistInvoicing" class="@(Settings.Theme.IconPrefix) btn btn-outline-default" type="submit" title="Save" onclick="saveLinguistInvoicing(@Model.Id);"><i class="far fa-cloud-upload fa-2x"></i></button>
                                            </div>
                                        }
                                    </form>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12">
                    @*Enquiries to be actioned*@
                    <div class="panel" data-panel-fullscreen="false" data-panel-close="false">
                        <div class="panel-hdr">
                            <i class="fal fa-language fa-2x color-black"></i> &nbsp; &nbsp;
                            <h2>Linguist job items</h2>
                        </div>
                        <div class="panel-container collapse">
                            <div class="panel-content">
                                <div class="form-group-row">
                                    <table id="dt-all-items" class="table-sm table table-bordered table-hover table-striped w-100">
                                        <thead style="background-color: #e84133;  color: #212529;">
                                            <tr>
                                                <th>ID</th>
                                                <th>Organisation</th>
                                                <th>Contact</th>
                                                <th>Job order</th>
                                                <th>Language service</th>
                                                <th>Source</th>
                                                <th>Target</th>
                                                <th>Status</th>
                                                <th>Payment to supplier</th>
                                                <th>Job item margin</th>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--<div class="col-6">-->
                @*Enquiries to be actioned*@
                <!--<div class="panel" data-panel-fullscreen="false" data-panel-close="false">
                        <div class="panel-hdr">
                            <i class="fal fa-tasks-alt fa-2x color-black"></i> &nbsp; &nbsp;
                            <h2>Linguist tasks</h2>
                        </div>
                        <div class="panel-container collapse">
                            <div class="panel-content">
                                <div class="form-group-row">

                                </div>
                            </div>
                        </div>
                    </div>
                </div>-->
                <div class="col-12">
                    @*Enquiries to be actioned*@
                    <div class="panel" data-panel-fullscreen="false" data-panel-close="false">
                        <div class="panel-hdr">
                            <i class="fal fa-file-invoice fa-2x color-black"></i> &nbsp; &nbsp;
                            <h2>Linguist invoices</h2>
                        </div>
                        <div class="panel-container collapse">
                            <div class="panel-content">
                                <div class="form-group-row">
                                    <table id="dt-all-rates" class="table-sm table table-bordered table-hover table-striped w-100">
                                        <thead style="background-color: #e84133;  color: #212529; text-align:center">
                                            <tr>
                                                <th>ID</th>
                                                <th>Supplier invoice number	</th>
                                                <th>Amount</th>
                                                <th>Currency</th>
                                                <th>Due Date</th>
                                                <th>Status</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @for (var i = 0; i < Model.Invoices.Count(); i++)
                                            {
                                                <tr align="center">
                                                    <td>
                                                        <a href=@string.Format("https://myplus.publicisgroupe.net/LinguisticSupplierInvoice.aspx?InvoiceID={0}",@Model.Invoices.ElementAt(i).Id) class="" target="_blank"> @Model.Invoices.ElementAt(i).Id</a>

                                                    </td>
                                                    <td>
                                                        @Model.Invoices.ElementAt(i).LinguisticSupplierInvoiceNumber
                                                    </td>
                                                    <td>
                                                        @Model.Invoices.ElementAt(i).SubTotalValue.GetValueOrDefault().ToString("N2")
                                                    </td>
                                                    <td>
                                                        @(Model.CurrencyInfo.Where(o=>o.CurrencyId == Model.Invoices.ElementAt(i).InvoiceCurrencyId).FirstOrDefault().CurrencyName)
                                                        (@(Model.Currency.Where(o=>o.Id == Model.Invoices.ElementAt(i).InvoiceCurrencyId).FirstOrDefault().Symbol))
                                                    </td>
                                                    <td>
                                                        @Model.Invoices.ElementAt(i).DueDate
                                                    </td>
                                                    <td>
                                                        @if (Model.Invoices.ElementAt(i).PaidDate == null)
                                                        {
                                                            if (Model.Invoices.ElementAt(i).SupplierInvoiceOnHold == true)
                                                            {
                                                                <label class="form-label col-sm d-flex align-items-center text-info">On hold</label>
                                                            }
                                                            else
                                                            {
                                                                if (Model.Invoices.ElementAt(i).DueDate < ViewBag.GetCurrentGMT)
                                                                {<label class="form-label col-sm d-flex align-items-center text-warning">Overdue</label> }
                                                                else
                                                                { <label class="form-label col-sm d-flex align-items-center text-info">Pending</label>}
                                                            }
                                                        }
                                                        else
                                                        {
                                                            <label class="form-label col-sm d-flex align-items-center text-success">Paid on @Model.Invoices.ElementAt(i).PaidDate.GetValueOrDefault().ToString("dddd d MMMM yyyy") via @Model.PaymentMethods.Where(o => o.Id == Model.Invoices.ElementAt(i).PaidMethod).FirstOrDefault().Name</label>
                                                        }
                                                    </td>

                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
<div id="clientSpecificRates" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content border-0 shadow-3">
            <div class="modal-header">
                <h5 class="modal-title" id="timeLogEditHeader">
                    <strong><label id="nonStatusHeader">Client-Specific Breakdown</label></strong>
                    <input type="text" id="ClientSpecificID" hidden>
                </h5>
                <a onclick="" data-dismiss="modal" class="close" aria-label="Close">
                    <span aria-hidden="true"><i class="@(Settings.Theme.IconPrefix) fa-times"></i></span>
                </a>
            </div>
            <div class="modal-body bg-faded">
                <table class="table table-borderless" style="width:480px;">

                    <tr>
                        <td style="width:420px;">
                            <div class="form-group-row">
                                <div class="form-group row" style="margin-bottom:0.5rem">
                                    <label class="form-label col-sm-6 d-flex align-items-center">Perfect matches/match plus:</label>
                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                    {<div class="form-label col-sm-3">
                                            <input type="text" class="form-control d-flex align-items-center" id="ClientSpecificMemoryRateForPerfectMatches">
                                        </div>
                                        <label class="form-label col-sm-1 d-flex align-items-center px-1">%</label>
                                    }
                                    else
                                    {
                                        <label class="form-label col-sm-3 d-flex align-items-center px-1" id="ClientSpecificMemoryRateForPerfectMatchesLabel"></label>

                                    }
                                </div>
                                <div class="form-group row" style="margin-bottom:0.5rem">
                                    <label class="form-label col-sm-6 d-flex align-items-center">Exact matches:</label>
                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                    {
                                        <div class="form-label col-sm-3">
                                            <input type="text" class="form-control d-flex align-items-center" id="ClientSpecificMemoryRateForExactMatches">
                                        </div>
                                        <label class="form-label col-sm-1 d-flex align-items-center px-1">%</label>
                                    }
                                    else
                                    {
                                        <label class="form-label col-sm-3 d-flex align-items-center px-1" id="ClientSpecificMemoryRateForExactMatchesLabel"></label>

                                    }
                                </div>
                                <div class="form-group row" style="margin-bottom:0.5rem">
                                    <label class="form-label col-sm-6 d-flex align-items-center">Repetitions:</label>
                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                    {
                                        <div class="form-label col-sm-3">
                                            <input type="text" class="form-control d-flex align-items-center" id="ClientSpecificMemoryRateForRepetitions">
                                        </div>
                                        <label class="form-label col-sm-1 d-flex align-items-center px-1">%</label>
                                    }
                                    else
                                    {
                                        <label class="form-label col-sm-3 d-flex align-items-center px-1" id="ClientSpecificMemoryRateForRepetitionsLabel"></label>

                                    }
                                </div>
                                <div class="form-group row" style="margin-bottom:0.5rem">
                                    <label class="form-label col-sm-6 d-flex align-items-center">95-99% matches:</label>
                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                    {
                                        <div class="form-label col-sm-3">
                                            <input type="text" class="form-control d-flex align-items-center" id="ClientSpecificMemoryRateFor95To99Percent">
                                        </div>
                                        <label class="form-label col-sm-1 d-flex align-items-center px-1">%</label>
                                    }
                                    else
                                    {
                                        <label class="form-label col-sm-3 d-flex align-items-center px-1" id="ClientSpecificMemoryRateFor95To99PercentLabel"></label>

                                    }
                                </div>
                                <div class="form-group row" style="margin-bottom:0.5rem">
                                    <label class="form-label col-sm-6 d-flex align-items-center">85-94% matches:</label>
                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                    {
                                        <div class="form-label col-sm-3">
                                            <input type="text" class="form-control d-flex align-items-center" id="ClientSpecificMemoryRateFor85To94Percent">
                                        </div>
                                        <label class="form-label col-sm-1 d-flex align-items-center px-1">%</label>
                                    }
                                    else
                                    {
                                        <label class="form-label col-sm-3 d-flex align-items-center px-1" id="ClientSpecificMemoryRateFor85To94PercentLabel"></label>

                                    }
                                </div>
                                <div class="form-group row" style="margin-bottom:0.5rem">
                                    <label class="form-label col-sm-6 d-flex align-items-center">75-84% matches:</label>
                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                    {
                                        <div class="form-label col-sm-3">
                                            <input type="text" class="form-control d-flex align-items-center" id="ClientSpecificMemoryRateFor75To84Percent">
                                        </div>
                                        <label class="form-label col-sm-1 d-flex align-items-center px-1">%</label>
                                    }
                                    else
                                    {
                                        <label class="form-label col-sm-3 d-flex align-items-center px-1" id="ClientSpecificMemoryRateFor75To84PercentLabel"></label>

                                    }
                                </div>
                                <div class="form-group row" style="margin-bottom:0.5rem">
                                    <label class="form-label col-sm-6 d-flex align-items-center">50-74% matches:</label>
                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                    {
                                        <div class="form-label col-sm-3">
                                            <input type="text" class="form-control d-flex align-items-center" id="ClientSpecificMemoryRateFor50To74Percent">
                                        </div>
                                        <label class="form-label col-sm-1 d-flex align-items-center px-1">%</label>
                                    }
                                    else
                                    {
                                        <label class="form-label col-sm-3 d-flex align-items-center px-1" id="ClientSpecificMemoryRateFor50To74PercentLabel"></label>

                                    }
                                </div>
                                <div class="form-group row" style="margin-bottom:0.5rem">
                                    <label class="form-label col-sm-6 d-flex align-items-center">Check pre-translation:</label>
                                    @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                    {
                                        <div class="form-label col-sm-3">
                                            <input type="text" class="form-control d-flex align-items-center" id="ClientSpecificPercent">
                                        </div>
                                        <label class="form-label col-sm-1 d-flex align-items-center px-1">%</label>
                                    }
                                    else
                                    {
                                        <label class="form-label col-sm-3 d-flex align-items-center px-1" id="ClientSpecificPercentLabel"></label>

                                    }
                                </div>
                                @if (Model.LoggedInEmployee.TeamId == 12 || Model.LoggedInEmployee.Id == 1246)
                                {
                                    <br />
                                    <br />
                                    <div class="form-label col-sm" style="text-align: end;">
                                        <button id="uploadClientSpecificBreakdownButton" class="@(Settings.Theme.IconPrefix) btn btn-outline-default" type="submit" title="Save" onclick="uploadClientSpecificBreakdown();"><i class="far fa-cloud-upload fa-2x"></i></button>
                                    </div>
                                }
                            </div>


                        </td>

                    </tr>

                </table>

            </div>
        </div>
    </div>
</div>
<style>


    .form-group {
        margin-bottom: 0.8rem;
    }

    .bg-tp-red {
        /*background-image: linear-gradient(250deg, #E84133, #bd3e29);*/
        background-color: #E84133;
    }
    /* Chrome, Safari, Edge, Opera */
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }
    /* Firefox */
    input[type=number] {
        -moz-appearance: textfield;
    }

    .custom-control-input:checked ~ .custom-control-label::before {
        color: #ffffff;
        border-color: #717e86;
        background-color: lightgreen;
    }

    .custom-control-label::before {
        background-color: #d5d5d5;
    }
</style>
@section ScriptsBlock
{

    <script src="~/js/formplugins/select2/select2.bundle.js"></script>

    <script src="~/js/dependency/moment/moment.js"></script>
    <script src="~/js/formplugins/bootstrap-datepicker/bootstrap-datepicker.js"></script>
    <script src="~/js/formplugins/ion-rangeslider/ion-rangeslider.js"></script>
    <script src="~/js/miscellaneous/fullcalendar/fullcalendar.bundle.js"></script>
    <script src="~/js/statistics/sparkline/sparkline.bundle.js"></script>
    <script src="~/js/statistics/easypiechart/easypiechart.bundle.js"></script>
    <script src="~/js/statistics/flot/flot.bundle.js"></script>
    <script src="~/js/datagrid/datatables/datatables.bundle.js"></script>
    <script src="~/js/miscellaneous/jqvmap/jqvmap.bundle.js"></script>
    <script>
        $('#js-page-content').smartPanel();
    </script>

    <script>

        $(document).ready(function () {
            var LoggedInEmployeeId = @Html.Raw(JsonSerializer.Serialize( Model.LoggedInEmployee.Id ));
            var LoggedInEmployeeTeamId = @Html.Raw(JsonSerializer.Serialize( Model.LoggedInEmployee.TeamId ));
            var ProofIDFileName = @Html.Raw(JsonSerializer.Serialize( Model.ProofIDFileName ));
            var ProofBankFileName = @Html.Raw(JsonSerializer.Serialize( Model.ProofBankFileName ));
            var ProofCompanyFileName = @Html.Raw(JsonSerializer.Serialize( Model.ProofCompanyFileName ));
            var RegistrationFormFileName = @Html.Raw(JsonSerializer.Serialize( Model.RegistrationFormFileName ));
            var NDAFileName = @Html.Raw(JsonSerializer.Serialize(Model.NDAFileName));
            var ContractFileName = @Html.Raw(JsonSerializer.Serialize( Model.ContractFileName ));
            var VendorContractName = @Html.Raw(JsonSerializer.Serialize( Model.VendorContractFileName ));
            var CV = @Html.Raw(JsonSerializer.Serialize( Model.CVFileName ));
            var Portfolio = @Html.Raw(JsonSerializer.Serialize( Model.PortfolioFileName ));
            if (LoggedInEmployeeTeamId == 12 || LoggedInEmployeeTeamId == 13 || LoggedInEmployeeId == 1246) {
                if (ProofIDFileName != "") {
                    document.getElementById('proof-id-file-div').hidden = false;
                }
                else {
                    document.getElementById('proof-id-no-file-div').hidden = false;
                }
                if (ProofBankFileName != "") {
                    document.getElementById('proof-bank-file-div').hidden = false;
                }
                else {
                    document.getElementById('proof-bank-no-file-div').hidden = false;
                }
                if (ProofCompanyFileName != "") {
                    document.getElementById('proof-company-file-div').hidden = false;
                }
                else {
                    document.getElementById('proof-company-no-file-div').hidden = false;
                }
            }
            if (RegistrationFormFileName != "") {
                document.getElementById('registration-form-file-div').hidden = false;
            }
            else {
                document.getElementById('registration-form-no-file-div').hidden = false;
            }
            if (ContractFileName != "") {
                document.getElementById('contract-service-file-div').hidden = false;
            }
            else {
                document.getElementById('contract-service-no-file-div').hidden = false;
            }
            if (VendorContractName != "") {
                document.getElementById('vendor-contract-file-div').hidden = false;
            }
            else {
                document.getElementById('vendor-contract-no-file-div').hidden = false;
            }
            if (NDAFileName != "") {
                document.getElementById('nda-file-div').hidden = false;
            }
            else {
                document.getElementById('nda-no-file-div').hidden = false;
            }
            if (CV != "") {
                document.getElementById('cv-file-div').hidden = false;
            }
            else {
                document.getElementById('cv-no-file-div').hidden = false;
            }
            if (Portfolio != "") {
                document.getElementById('portfolio-file-div').hidden = false;
            }
            else {
                document.getElementById('portfolio-no-file-div').hidden = false;
            }
            $(function () {
                $('.select2').select2();
                $('.select2-placeholder-multiple').select2();

            });

            initializeRatesTable();
            initializeItemsTable();

            var lingCheckDetails = @Html.Raw(Json.Serialize(Model.linguisticSupplierPoliceCheckDetails));
            if (lingCheckDetails!="") {
                var sourcepath = "@ViewBag.CurrentDirectory" + "/img/NoEntrySign.png";
                policeChecks(sourcepath);
            }
        });
        $("input, textarea, select").on("input", function () {
            try {
                //$(this).parents('form').children().children().children().children().children().children().children().children().children('button.btn-outline-default').css({ background: 'red' });
                $(this).parents('form').children('div.flex-row-reverse').children('button.btn-outline-default').css({ background: 'red' });
                $(this).parents('form').children().children().children('div.flex-row-reverse').children('button.btn-outline-default').css({ background: 'red' });

            }
            catch (e) {
                alert("error");
            }
        });

    function initializeItemsTable() {
        var dataSet = @Html.Raw(JsonSerializer.Serialize( Model.AllItems ));

        $('#dt-all-items').dataTable(
            {

                data: dataSet,
                dataSrc: "",
                columns: [
                    {
                        "data": "itemID",
                        "defaultContent": "N/A",
                        render: function (data, type, row, meta) {
                            if (type == "display") {
                                let link = `https://myplusbeta.publicisgroupe.net/JobItem?Id=${row.itemID}`;
                                return '<a href="' + link + '" target="_blank" >' + data + '</a>' ;
                            }
                        }},
                    {
                        "data": "orgName",
                        "defaultContent": "N/A",
                        render: function (data, type, row, meta) {
                            if (type == "display") {
                                let link = `https://myplusbeta.publicisgroupe.net/Organisation?id=${row.orgID}`;
                                return '<a href="' + link + '" target="_blank" >' + data + '</a>';
                            }
                        } },
                    {
                        "data": "contactName",
                        render: function (data, type, row, meta) {
                                let link = `https://myplusbeta.publicisgroupe.net/Contact?contactid=${row.contactID}`;
                                return '<a href="' + link + '" target="_blank" >' + data + '</a>' ;
                        }
                    },
                    {
                        "data": "orderName",
                        "defaultContent": "N/A",
                        render: function (data, type, row, meta) {
                            if (type == "display") {
                                let link = `https://myplusbeta.publicisgroupe.net/tmsjoborder/joborder?joborderid=${row.orderID}`;
                                return '<a href="' + link + '" target="_blank" >' + data + '</a>';
                            }
                        } },
                    { "data": "itemService" },
                    { "data": "itemSource" },
                    { "data": "itemTarget" },
                    {
                        "data": "itemStatus",
                        render: function (data, type, row, meta) {
                            let color = row.itemStatusColor;
                            return '<label style="color:' + color + '">' + data + '</label>';
                        }
                        },
                    { "data": "itemPaymentToSupplier" },
                    {
                        "data": "itemMargin",
                        render: function (data, type, row, meta) {
                            return data + '%';
                        }
                    }

                ],

                colReorder: true,
                responsive: true,
                dom:
                    "<'row mb-3'<'col-sm-12 col-md-6 d-flex align-items-center justify-content-start'f><'col-sm-12 col-md-6 d-flex align-items-center justify-content-end'B>>" +
                    "<'row'<'col-sm-12'tr>>" +
                    "<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",
                buttons: [
                    {
                        extend: 'pageLength',
                        className: 'btn-outline-default'
                    },
                    {
                        extend: 'colvis',
                        text: 'Column Visibility',
                        titleAttr: 'Col visibility',
                        className: 'btn-outline-default'
                    }
                ],

                initComplete: function () {
                    this.api().columns().every(function () {
                        var column = this;
                        var select = $('<select class="custom-select form-control"><option value=""></option></select>')
                            .appendTo($(column.footer()).empty())
                            .on('change', function () {
                                var val = $.fn.dataTable.util.escapeRegex(
                                    $(this).val()
                                );

                                column
                                    .search(val ? '^' + val + '$' : '', true, false)
                                    .draw();
                            });

                        column.data().unique().sort().each(function (d, j) {
                            select.append('<option value="' + d + '">' + d + '</option>')
                        });
                    });
                }
            });
    }
         var butID = undefined;
        var supplierStatus = null;

        $('.btn-outline-default').on('click', function (e) {
            e.preventDefault();
            let formId = $(this).parents("form").attr("id");
            butID = $(this).attr("id");
            //debugger;

            if (@Model.LoggedInEmployee.TeamId == 12 || @Model.LoggedInEmployee.Id == 1246 || @Model.LoggedInEmployee.IsTeamManager.ToString().ToLower() == true) { supplierStatus = $('select[name="@(nameof(Model.SupplierStatusId))"]').find(':selected').val(); }
            else { supplierStatus = @Model.SupplierStatusId; }

            var vendorType = document.getElementById('vendor-type-select');
            var allVendorType = '';
            if (vendorType != null) {
                for (var i = 0; i < vendorType.length; i++) {
                    if (vendorType[i].selected == true) {
                        allVendorType += vendorType[i].value + ',';

                    }
                }

            }
            if (allVendorType != "") {
                allVendorType = allVendorType.substring(0, allVendorType.length - 1);
            }
            let data = {
                @nameof(Model.SectionToUpdate): formId,
                "@nameof(Model.Id)": @Model.Id.ToString(),
                // key info
                "@nameof(Model.AgencyOrTeamName)": $('input[name="@(nameof(Model.AgencyOrTeamName))"]').val(),
                "@nameof(Model.MainContactFirstName)": $('input[name="@(nameof(Model.MainContactFirstName))"]').val(),
                    "@nameof(Model.MainContactSurname)": $('input[name="@(nameof(Model.MainContactSurname))"]').val(),
                       "@nameof(Model.CountryId)": $('select[name="@(nameof(Model.CountryId))"]').find(':selected').val(),
                               "@nameof(Model.SupplierStatusId)":supplierStatus,
                                "@nameof(Model.MobileNumber)": $('input[name="@(nameof(Model.MobileNumber))"]').val(),
                                 "@nameof(Model.FaxNumber)": $('input[name="@(nameof(Model.FaxNumber))"]').val(),
                "@nameof(Model.SupplierTypeId)": $('select[name="@(nameof(Model.SupplierTypeId))"]').find(':selected').val(),
                "@nameof(Model.VendorTypeID)": allVendorType,
                                        "@nameof(Model.EmailAddress)": $('input[name="@(nameof(Model.EmailAddress))"]').val(),
                "@nameof(Model.Notes)": $('textarea[name="@(nameof(Model.Notes))"]').val(),
                                              "@nameof(Model.RatesNotes)": $('textarea[name="@(nameof(Model.RatesNotes))"]').val(),
                                            "@nameof(Model.AgencyCompanyRegistrationNumber)": $('input[name="@(nameof(Model.AgencyCompanyRegistrationNumber))"]').val(),
                                            "@nameof(Model.AgencyNumberOfLinguists)": $('input[name="@(nameof(Model.AgencyNumberOfLinguists))"]').val(),
                                                "@nameof(Model.AgencyNumberOfDtporMultimediaOps)": $('input[name="@(nameof(Model.AgencyNumberOfDtporMultimediaOps))"]').val(),
                                                      "@nameof(Model.MainContactGender)": $('select[name="@(nameof(Model.MainContactGender))"]').find(':selected').val(),
                "@nameof(Model.MainContactNationalityCountryId)": $('select[name="@(nameof(Model.MainContactNationalityCountryId))"]').find(':selected').val(),
                                                              "@nameof(Model.EmailAddress)": $('input[name="@(nameof(Model.EmailAddress))"]').val(),
                "@nameof(Model.Address1)": $('input[name="@(nameof(Model.Address1))"]').val(),
                "@nameof(Model.CountyOrState)": $('input[name="@(nameof(Model.CountyOrState))"]').val(),
                "@nameof(Model.SecondaryEmailAddress)": $('input[name="@(nameof(Model.SecondaryEmailAddress))"]').val(),
                "@nameof(Model.SkypeId)": $('input[name="@(nameof(Model.SkypeId))"]').val(),
                "@nameof(Model.MainLandlineNumber)": $('input[name="@(nameof(Model.MainLandlineNumber))"]').val(),
                "@nameof(Model.SecondaryLandlineNumber)": $('input[name="@(nameof(Model.SecondaryLandlineNumber))"]').val(),
                "@nameof(Model.WouldSignWitnessStatementString)": $('input[name="@(nameof(Model.WouldSignWitnessStatementString))"]').prop('checked'),
                "@nameof(Model.Referee1ReceivedString)": $('input[name="@(nameof(Model.Referee1ReceivedString))"]').prop('checked'),
                        "@nameof(Model.Referee2ReceivedString)": $('input[name="@(nameof(Model.Referee2ReceivedString))"]').prop('checked'),
                "@nameof(Model.Referee1Name)": $('input[name="@(nameof(Model.Referee1Name))"]').val(),
                "@nameof(Model.Referee1Phone)": $('input[name="@(nameof(Model.Referee1Phone))"]').val(),
                "@nameof(Model.Referee1EmailAddress)": $('input[name="@(nameof(Model.Referee1EmailAddress))"]').val(),
                "@nameof(Model.Referee2Name)": $('input[name="@(nameof(Model.Referee2Name))"]').val(),
                "@nameof(Model.Referee2Phone)": $('input[name="@(nameof(Model.Referee2Phone))"]').val(),
                "@nameof(Model.MainLandlineCountryId)": $('select[name="@(nameof(Model.MainLandlineCountryId))"]').find(':selected').val(),
                "@nameof(Model.SecondaryLandlineCountryId)": $('select[name="@(nameof(Model.SecondaryLandlineCountryId))"]').find(':selected').val(),
                                                "@nameof(Model.MobileCountryId)": $('select[name="@(nameof(Model.MobileCountryId))"]').find(':selected').val(),
        "@nameof(Model.Referee2EmailAddress)": $('input[name="@(nameof(Model.Referee2EmailAddress))"]').val()


            }

            $.ajax({
                beforeSend: function () {
                    // add loading spinner
                },
                url: "api/LinguistUpdate",
                method: 'POST',
                dataType: 'json',
                data: data,
                success: function (data) {
                    //confirm update was successfull

                    $("#" + butID).css({ background: 'lightgreen' });

                    $('.error-span').remove();

                    setTimeout(function () { $("#" + butID).css({ background: 'white' }) }, 2500);
                },
                error: function (err) {
                    //show that there was an error
                    alert('ERROR');
                    console.log(err);
                },
                complete: function () {
                    // remove the spinner
                }
            });
        });

      function initializeRatesTable() {
        var dataSet = @Html.Raw(JsonSerializer.Serialize( Model.AllRates ));

        $('#dt-all-rates').dataTable(
            {
                //data: dataSet,
                //dataSrc: "",
                //columns: [
                //    { "data": "linguistRateID"},
                //    { "data": "serviceName" },
                //    { "data": "lingSourceLang" },
                //    { "data": "lingTargetLang" },
                //    { "data": "lingSubjectArea" },
                //    { "data": "lingCurrency" },
                //    { "data": "standardRate" },
                //    { "data": "linguistRateRateUnit" },
                //    { "data": "minimumCharge" },
                //    { "data": "appliesTo" },
                //    { "data": "rateNotes" },
                //    { "data": "lastModified" }
                //],

                "pageLength": -1,
                colReorder: true,
                responsive: true,
                dom:
                    "<'row mb-3'<'col-sm-12 col-md-6 d-flex align-items-center justify-content-start'f><'col-sm-12 col-md-6 d-flex align-items-center justify-content-end'B>>" +
                    "<'row'<'col-sm-12'tr>>" +
                    "<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",
                buttons: [
                    {
                        extend: 'pageLength',
                        className: 'btn-outline-default'
                    },
                    {
                        extend: 'colvis',
                        text: 'Column Visibility',
                        titleAttr: 'Col visibility',
                        className: 'btn-outline-default'
                    }
                ],

                initComplete: function () {
                    this.api().columns().every(function () {
                        var column = this;
                        var select = $('<select class="custom-select form-control"><option value=""></option></select>')
                            .appendTo($(column.footer()).empty())
                            .on('change', function () {
                                var val = $.fn.dataTable.util.escapeRegex(
                                    $(this).val()
                                );

                                column
                                    .search(val ? '^' + val + '$' : '', true, false)
                                    .draw();
                            });

                        column.data().unique().sort().each(function (d, j) {
                            select.append('<option value="' + d + '">' + d + '</option>')
                        });
                    });
                }
            });
    }
        function showUploadCV() {
            document.getElementById('cv-div').hidden = false;
        }

        function uploadCV(ID) {

            var CV = $('#cv-file-upload')[0].files[0];
            var formData = new FormData();
            formData.append('Id', ID);
            formData.append('CV', CV);
            var xhr = new XMLHttpRequest();
            document.getElementById('cv-div').hidden = true;
            //alert("Thanks for uploading. Please don't refresh the page for a while.")
            xhr.open("POST", "Linguist/UploadCV", true);
            xhr.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    debugger;
                    if (document.getElementById('cv-file-div').hidden == true) {
                        document.getElementById('cv-file-div').hidden = false;
                    }
                    if (document.getElementById('cv-no-file-div').hidden == false) {
                        document.getElementById('cv-no-file-div').hidden = true;
                    }
                    //document.getElementById('cv-div').hidden = true;
                    document.getElementById('cv-file-upload').value = "";

                    var response = xhr.responseText;
                    var CVPath = response.split("$")[0];
                    var CVName = response.split("$")[1];

                    document.getElementById('cv-file-tag').innerHTML = CVName;
                    document.getElementById('cv-file-tag').href = CVPath;



                }
                else {

                }
            };

            xhr.send(formData);
        }
        function showUploadPortfolio() {
            document.getElementById('portfolio-div').hidden = false;
        }

        function uploadPortfolio(ID) {

            var Portfolio = $('#portfolio-file-upload')[0].files[0];
            var formData = new FormData();
            formData.append('Id', ID);
            formData.append('Portfolio', Portfolio);
            var xhr = new XMLHttpRequest();
            document.getElementById('portfolio-div').hidden = true;
            xhr.open("POST", "Linguist/UploadPortfolio", true);
            xhr.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {

                    if (document.getElementById('portfolio-file-div').hidden == true) {
                        document.getElementById('portfolio-file-div').hidden = false;
                    }
                    if (document.getElementById('portfolio-no-file-div').hidden == false) {
                        document.getElementById('portfolio-no-file-div').hidden = true;
                    }
                    //document.getElementById('portfolio-div').hidden = true;
                    document.getElementById('portfolio-file-upload').value = "";

                    var response = xhr.responseText;
                    var PortfolioPath = response.split("$")[0];
                    var PortfolioName = response.split("$")[1];

                    document.getElementById('portfolio-file-tag').innerHTML = PortfolioName;
                    document.getElementById('portfolio-file-tag').href = PortfolioPath;



                }
                else {

                }
            };

            xhr.send(formData);
        }
        function showUploadRegistrationForm() {
            document.getElementById('registration-form-div').hidden = false;
        }

        function uploadRegistrationForm(ID) {

            var RegistrationForm = $('#registration-form-file-upload')[0].files[0];
            var formData = new FormData();
            formData.append('Id', ID);
            formData.append('RegistrationForm', RegistrationForm);
            var xhr = new XMLHttpRequest();
            document.getElementById('registration-form-div').hidden = true;
            xhr.open("POST", "Linguist/UploadRegistrationForm", true);
            xhr.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {

                    if (document.getElementById('registration-form-file-div').hidden == true) {
                        document.getElementById('registration-form-file-div').hidden = false;
                    }
                    if (document.getElementById('registration-form-no-file-div').hidden == false) {
                        document.getElementById('registration-form-no-file-div').hidden = true;
                    }

                    //document.getElementById('registration-form-div').hidden = true;
                    document.getElementById('registration-form-file-upload').value = "";

                    var response = xhr.responseText;
                    var RegistrationFormPath = response.split("$")[0];
                    var RegistrationFormName = response.split("$")[1];

                    document.getElementById('registration-form-file-tag').innerHTML = RegistrationFormName;
                    document.getElementById('registration-form-file-tag').href = RegistrationFormPath;



                }
                else {

                }
            };

            xhr.send(formData);
        }
        function showUploadProofID() {
            document.getElementById('proof-id-div').hidden = false;
        }

        function uploadProofID(ID) {

            var ProofID = $('#proof-id-file-upload')[0].files[0];
            var formData = new FormData();
            formData.append('Id', ID);
            formData.append('ProofID', ProofID);
            var xhr = new XMLHttpRequest();
            document.getElementById('proof-id-div').hidden = true;
            xhr.open("POST", "Linguist/UploadProofID", true);
            xhr.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {

                    if (document.getElementById('proof-id-file-div').hidden == true) {
                        document.getElementById('proof-id-file-div').hidden = false;
                    }
                    if (document.getElementById('proof-id-no-file-div').hidden == false) {
                        document.getElementById('proof-id-no-file-div').hidden = true;
                    }
                    //document.getElementById('proof-id-div').hidden = true;
                    document.getElementById('proof-id-file-upload').value = "";

                    var response = xhr.responseText;
                    var ProofIDPath = response.split("$")[0];
                    var ProofIDName = response.split("$")[1];

                    document.getElementById('proof-id-file-tag').innerHTML = ProofIDName;
                    document.getElementById('proof-id-file-tag').href = ProofIDPath;



                }
                else {

                }
            };

            xhr.send(formData);
        }
        function saveLinguistExpertise(ID) {

            var website = document.getElementById('website').value;
            var selectedMasterFields = [];
            $('#MasterFields :selected').each(function (i, selected) {
                selectedMasterFields[i] = $(selected).val();
            });
            var selectedSubFields = [];
            $('#SubFields :selected').each(function (i, selected) {
                selectedSubFields[i] = $(selected).val();
            });
            var selectedMediaTypes = [];
            $('#MediaTypes :selected').each(function (i, selected) {
                selectedMediaTypes[i] = $(selected).val();
            });
            var selectedProfessionalBodies = [];
            $('#membership-professional-bodies :selected').each(function (i, selected) {
                selectedProfessionalBodies[i] = $(selected).val();
            });
            var description = document.getElementById('description').value;
            var motherTongue = document.getElementById('mother-tongue-select').value;
            var secondMotherTongue = document.getElementById('second-mother-tongue-select').value;
            var encrypted = document.getElementById('encrypted-select').value;
            var operatingSystem = document.getElementById('system-select').value;
            var operatingSystemVersion = document.getElementById('version-select').value;
            var applications = document.getElementById('application-select');
            var allApplications = '';
            if (applications != null) {
                for (var i = 0; i < applications.options.length; i++) {
                    if (applications.options[i].selected == true) {
                        allApplications += applications.options[i].value + ',';
                    }
                }
            }


            var policeChecks = "";
            var table = document.getElementById("policeCheckTable");

            for (let row of table.rows) {
                if (row.rowIndex > 0) {
                    policeChecks += row.children[3].innerHTML.split("$")[1] + "#";
                }
            }
            //debugger;
            var stringToSend = website + '$' + description + '$' + motherTongue + '$' + secondMotherTongue + '$' + encrypted + '$' + operatingSystem + '$' + operatingSystemVersion + '$' + allApplications + '$' + ID + '$' + selectedMasterFields + '$' + selectedSubFields + '$' + selectedMediaTypes + '$' + policeChecks + '$' + selectedProfessionalBodies;
            $.ajax({

                url: 'Linguist/UpdateLinguistExpertise',
                type: 'POST',
                data: stringToSend,
                contentType: 'application/x-www-form-urlencoded',
                success: function (response) {

                    console.log("ajax is executed");
                    if (response == "Success") {
                        var button = document.getElementById('editLinguistExpertise');
                        button.style.backgroundColor = "lightgreen";
                        setTimeout(() => button.style.backgroundColor = 'white', 3000);
                    }

                }
            });

        }

        function saveLinguistInvoicing(ID) {
            var paymentMethod = document.getElementById('method-select').value;
            var currency = document.getElementById('currency-select').value;
            var VAT = document.getElementById('VAT').value;
            var TIN = document.getElementById('TIN').value;
            var BankBranchName = document.getElementById('BankBranchName').value;
            var BankBranchAddress = document.getElementById('BankBranchAddress').value;
            var BankBranchCity = document.getElementById('BankBranchCity').value;
            var BankBranchCountry = document.getElementById('BankBranchCountry').value;
            var BankBranchPostCode = document.getElementById('BankBranchPostCode').value;
            var BankAccountName = document.getElementById('BankAccountName').value;
            var BankAccountNumber = document.getElementById('BankAccountNumber').value;
            var BankAccountSwiftorBic = document.getElementById('BankAccountSwiftorBic').value;
            var BankAccountIban = document.getElementById('BankAccountIban').value;
            var stringToSend = paymentMethod + '$' + currency + '$' + VAT + '$' + TIN + '$' + ID + '$' + BankBranchName + '$' + BankBranchAddress + '$' + BankBranchCity + '$' + BankBranchCountry + '$' + BankBranchPostCode
                + '$' + BankAccountName + '$' + BankAccountNumber + '$' + BankAccountSwiftorBic + '$' + BankAccountIban;
            $.ajax({

                url: 'Linguist/UpdateLinguistInvoicing',
                type: 'POST',
                data: stringToSend,
                contentType: 'application/x-www-form-urlencoded',
                success: function (response) {

                    console.log("ajax is executed");
                    if (response == "Success") {
                        var button = document.getElementById('editLinguistInvoicing');
                        button.style.backgroundColor = "lightgreen";
                        setTimeout(() => button.style.backgroundColor = 'white', 3000);
                    }

                }
            });
        }

        function SendPasswordResetEmail() {
            var xhr = new XMLHttpRequest();
            xhr.open("POST", "Contact/SendPasswordResetEmail", true);
            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
            xhr.onreadystatechange = function () {

                if (this.readyState == 4 && this.status == 200) {
                    var resetEmailSentMessage = document.getElementById('ResetEmailSentMessage');
                    resetEmailSentMessage.hidden = false;
                }
            }
            xhr.send("@ViewBag.LingExtranetUserName");
        }

        function saveLinguistStudioBreakdown(ID) {

            var formData = new FormData();
            formData.append('Id', ID);
            formData.append('MemoryRateForPerfectMatches', document.getElementById('MemoryRateForPerfectMatches').value);
            formData.append('MemoryRateForExactMatches', document.getElementById('MemoryRateForExactMatches').value);
            formData.append('MemoryRateForRepetitions', document.getElementById('MemoryRateForRepetitions').value);
            formData.append('MemoryRateFor95To99Percent', document.getElementById('MemoryRateFor95To99Percent').value);
            formData.append('MemoryRateFor85To94Percent', document.getElementById('MemoryRateFor85To94Percent').value);
            formData.append('MemoryRateFor75To84Percent', document.getElementById('MemoryRateFor75To84Percent').value);
            formData.append('MemoryRateFor50To74Percent', document.getElementById('MemoryRateFor50To74Percent').value);
            var xhr = new XMLHttpRequest();

            xhr.open("POST", "Linguist/UpdateLinguistStudioBreakdown", true);
            xhr.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    if (xhr.responseText == "Success") {

                        var button = document.getElementById('editLinguistStudioBreakdown');
                        button.style.backgroundColor = "lightgreen";
                        setTimeout(() => button.style.backgroundColor = 'white', 3000);
                    }




                }
                else {

                }
            };

            xhr.send(formData);

        }
        function SelectedFields(selectObject) {
            //debugger;
            var selectednumbers = [];
            $('#MasterFields :selected').each(function (i, selected) {
                selectednumbers[i] = $(selected).val();
            });
            var selectedSubFields = [];
            $('#SubFields :selected').each(function (i, selected) {
                selectedSubFields[i] = $(selected).val();
            });

            var selectId = selectObject.id;
            var values = $('#' + selectId).val();
            var hiddenId = "hidden" + selectId;
            $('#' + hiddenId + 'Values').val(values);

            $.ajax({
                beforeSend: function () {
                    // add loading spinner
                },
                url: "api/GetSubFields",
                method: 'POST',
                dataType: 'json',
                data: { 'SelectedFields': JSON.stringify(selectednumbers) },
                success: function (data) {
                    //confirm update was successfull

                    var select = $("#SubFields");
                    select.find('option').remove();
                    for (let index = 0; index < data.length; ++index) {
                        const element = data[index];
                        var opt = document.createElement('option');
                        if (selectedSubFields != []) {
                            for (let i = 0; i < selectedSubFields.length;++i) {
                                if (selectedSubFields[i] == element.id)
                                {
                                    opt.value = element.id;
                                    opt.innerHTML = element.name;
                                    opt.selected = true;
                                }
                            }
                        }
                        opt.value = element.id;
                        opt.innerHTML = element.name;
                        select.append(opt);
                        // ...use `element`...
                    }
                },
                error: function (err) {
                    //show that there was an error
                    alert('ERROR');
                    console.log(err);
                },
                complete: function () {
                    // remove the spinner
                }
            });
        }
        function showUploadProofBank() {
            document.getElementById('proof-bank-div').hidden = false;
        }

        function uploadProofBank(ID) {

            var ProofBank = $('#proof-bank-file-upload')[0].files[0];
            var formData = new FormData();
            formData.append('Id', ID);
            formData.append('ProofBank', ProofBank);
            var xhr = new XMLHttpRequest();
            document.getElementById('proof-bank-div').hidden = true;
            xhr.open("POST", "Linguist/UploadProofBank", true);
            xhr.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {

                    if (document.getElementById('proof-bank-file-div').hidden == true) {
                        document.getElementById('proof-bank-file-div').hidden = false;
                    }
                    if (document.getElementById('proof-bank-no-file-div').hidden == false) {
                        document.getElementById('proof-bank-no-file-div').hidden = true;
                    }

                    //document.getElementById('proof-bank-div').hidden = true;
                    document.getElementById('proof-bank-file-upload').value = "";

                    var response = xhr.responseText;
                    var ProofBankPath = response.split("$")[0];
                    var ProofBankName = response.split("$")[1];

                    document.getElementById('proof-bank-file-tag').innerHTML = ProofBankName;
                    document.getElementById('proof-bank-file-tag').href = ProofBankPath;



                }
                else {

                }
            };

            xhr.send(formData);
        }
        function showUploadProofCompany() {
            document.getElementById('proof-company-div').hidden = false;
        }

        function uploadProofCompany(ID) {

            var ProofCompany = $('#proof-company-file-upload')[0].files[0];
            var formData = new FormData();
            formData.append('Id', ID);
            formData.append('ProofCompany', ProofCompany);
            var xhr = new XMLHttpRequest();
            document.getElementById('proof-company-div').hidden = true;
            xhr.open("POST", "Linguist/UploadProofCompany", true);
            xhr.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {

                    if (document.getElementById('proof-company-file-div').hidden == true) {
                        document.getElementById('proof-company-file-div').hidden = false;
                    }
                    if (document.getElementById('proof-company-no-file-div').hidden == false) {
                        document.getElementById('proof-company-no-file-div').hidden = true;
                    }

                    //document.getElementById('proof-company-div').hidden = true;
                    document.getElementById('proof-company-file-upload').value = "";

                    var response = xhr.responseText;
                    var ProofCompanyPath = response.split("$")[0];
                    var ProofCompanyName = response.split("$")[1];

                    document.getElementById('proof-company-file-tag').innerHTML = ProofCompanyName;
                    document.getElementById('proof-company-file-tag').href = ProofCompanyPath;



                }
                else {

                }
            };

            xhr.send(formData);
        }

        function populateClientSpecificBreakdown(anchorTag) {
            //debugger;
            var ID = parseInt(anchorTag.attributes['data-filter-tags'].nodeValue);
            var rateLst = @Html.Raw(Json.Serialize(Model.AllRates));
            var loggedInEmployee = @Html.Raw(Json.Serialize(Model.LoggedInEmployee.TeamId));
            var selectedRate = rateLst[ID];
            var MemoryRateForPerfectMatches = null;
            var clientSpecificID = null;
            var MemoryRateForExactMatches = null;
            var MemoryRateForRepetitions = null;
            var MemoryRateFor95To99Percent = null;
            var MemoryRateFor85To94Percent = null;
            var MemoryRateFor75To84Percent = null;
            var MemoryRateFor50To74Percent = null;
            var MemoryRateForClientSpecificPercent = null;
            clientSpecificID = selectedRate.linguistRateID;
            if (selectedRate.memoryRateForPerfectMatches != 0.9) { MemoryRateForPerfectMatches = selectedRate.memoryRateForPerfectMatches.toFixed(1); }
            if (selectedRate.memoryRateForExactMatches != 0.9) { MemoryRateForExactMatches = selectedRate.memoryRateForExactMatches.toFixed(1); }
            if (selectedRate.memoryRateForRepetitions != 0.9) { MemoryRateForRepetitions = selectedRate.memoryRateForRepetitions.toFixed(1);}
            if (selectedRate.memoryRateFor95To99Percent != 0.9) { MemoryRateFor95To99Percent = selectedRate.memoryRateFor95To99Percent.toFixed(1);}
            if (selectedRate.memoryRateFor85To94Percent != 0.9) { MemoryRateFor85To94Percent = selectedRate.memoryRateFor85To94Percent.toFixed(1);}
            if (selectedRate.memoryRateFor75To84Percent != 0.9) { MemoryRateFor75To84Percent = selectedRate.memoryRateFor75To84Percent.toFixed(1);}
            if (selectedRate.memoryRateFor50To74Percent != 0.9) { MemoryRateFor50To74Percent = selectedRate.memoryRateFor50To74Percent.toFixed(1); }
            if (selectedRate.memoryRateForClientSpecificPercent != 0.9) { MemoryRateForClientSpecificPercent = selectedRate.memoryRateForClientSpecificPercent.toFixed(1); }

            if (loggedInEmployee == 12) {
                $('#ClientSpecificMemoryRateForPerfectMatches').val();
                $('#ClientSpecificMemoryRateForExactMatches').val();
                $('#ClientSpecificMemoryRateForRepetitions').val();
                $('#ClientSpecificMemoryRateFor95To99Percent').val();
                $('#ClientSpecificMemoryRateFor85To94Percent').val();
                $('#ClientSpecificMemoryRateFor75To84Percent').val();
                $('#ClientSpecificMemoryRateFor50To74Percent').val();
                $('#ClientSpecificPercent').val();
                $('#ClientSpecificID').val();
                $('#ClientSpecificMemoryRateForPerfectMatches').val(MemoryRateForPerfectMatches);
                $('#ClientSpecificMemoryRateForExactMatches').val(MemoryRateForExactMatches);
                $('#ClientSpecificMemoryRateForRepetitions').val(MemoryRateForRepetitions);
                $('#ClientSpecificMemoryRateFor95To99Percent').val(MemoryRateFor95To99Percent);
                $('#ClientSpecificMemoryRateFor85To94Percent').val(MemoryRateFor85To94Percent);
                $('#ClientSpecificMemoryRateFor75To84Percent').val(MemoryRateFor75To84Percent);
                $('#ClientSpecificMemoryRateFor50To74Percent').val(MemoryRateFor50To74Percent);
                $('#ClientSpecificPercent').val(MemoryRateForClientSpecificPercent);
                $('#ClientSpecificID').val(clientSpecificID);

            }
            else {
                $('#ClientSpecificMemoryRateForPerfectMatchesLabel').text('');
                $('#ClientSpecificMemoryRateForExactMatchesLabel').text('');
                $('#ClientSpecificMemoryRateForRepetitionsLabel').text('');
                $('#ClientSpecificMemoryRateFor95To99PercentLabel').text('');
                $('#ClientSpecificMemoryRateFor85To94PercentLabel').text('');
                $('#ClientSpecificMemoryRateFor75To84PercentLabel').text('');
                $('#ClientSpecificMemoryRateFor50To74PercentLabel').text('');
                $('#ClientSpecificPercentLabel').text('');
                $('#ClientSpecificMemoryRateForPerfectMatchesLabel').text(MemoryRateForPerfectMatches + ' %');
                $('#ClientSpecificMemoryRateForExactMatchesLabel').text(MemoryRateForExactMatches + ' %');
                $('#ClientSpecificMemoryRateForRepetitionsLabel').text(MemoryRateForRepetitions + ' %');
                $('#ClientSpecificMemoryRateFor95To99PercentLabel').text(MemoryRateFor95To99Percent + ' %');
                $('#ClientSpecificMemoryRateFor85To94PercentLabel').text(MemoryRateFor85To94Percent + ' %');
                $('#ClientSpecificMemoryRateFor75To84PercentLabel').text(MemoryRateFor75To84Percent + ' %');
                $('#ClientSpecificMemoryRateFor50To74PercentLabel').text(MemoryRateFor50To74Percent + ' %');
                if (MemoryRateForClientSpecificPercent != null) { $('#ClientSpecificPercentLabel').text(MemoryRateForClientSpecificPercent + ' %');}

            }


        }

        function uploadClientSpecificBreakdown() {
            //debugger;
            var formData = new FormData();
            formData.append('Id', $('#ClientSpecificID').val());
            formData.append('MemoryRateForPerfectMatches', $('#ClientSpecificMemoryRateForPerfectMatches').val());
            formData.append('MemoryRateForExactMatches', $('#ClientSpecificMemoryRateForExactMatches').val());
            formData.append('MemoryRateForRepetitions', $('#ClientSpecificMemoryRateForRepetitions').val());
            formData.append('MemoryRateFor95To99Percent', $('#ClientSpecificMemoryRateFor95To99Percent').val());
            formData.append('MemoryRateFor85To94Percent', $('#ClientSpecificMemoryRateFor85To94Percent').val());
            formData.append('MemoryRateFor75To84Percent', $('#ClientSpecificMemoryRateFor75To84Percent').val());
            formData.append('MemoryRateFor50To74Percent', $('#ClientSpecificMemoryRateFor50To74Percent').val());
            formData.append('MemoryRateForClientSpecificPercent', $('#ClientSpecificPercent').val());
            var xhr = new XMLHttpRequest();

            xhr.open("POST", "Linguist/UpdateLinguistClientSpecifcBreakdown", true);
            xhr.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    if (xhr.responseText == "Success") {

                        var button = document.getElementById('uploadClientSpecificBreakdownButton');
                        button.style.backgroundColor = "lightgreen";
                        setTimeout(() => button.style.backgroundColor = 'white', 3000);
                    }




                }
                else {

                }
            };

            xhr.send(formData);

        }
        function showUploadNDA() {
            document.getElementById('nda-div').hidden = false;
        }

        function uploadNDA(ID) {

            var RegistrationForm = $('#nda-file-upload')[0].files[0];
            var formData = new FormData();
            formData.append('Id', ID);
            formData.append('NDA', RegistrationForm);
            var xhr = new XMLHttpRequest();
            document.getElementById('nda-div').hidden = true;
            xhr.open("POST", "Linguist/UploadNDA", true);
            xhr.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {

                    if (document.getElementById('nda-file-div').hidden == true) {
                        document.getElementById('nda-file-div').hidden = false;
                    }
                    if (document.getElementById('nda-no-file-div').hidden == false) {
                        document.getElementById('nda-no-file-div').hidden = true;
                    }

                    //document.getElementById('nda-div').hidden = true;
                    document.getElementById('nda-file-upload').value = "";

                    var response = xhr.responseText;
                    var NDAPath = response.split("$")[0];
                    var NDAName = response.split("$")[1];

                    document.getElementById('nda-file-tag').innerHTML = NDAName;
                    document.getElementById('nda-file-tag').href = NDAPath;



                }
                else {

                }
            };

            xhr.send(formData);
        }
        function showUploadContractService() {
            document.getElementById('contract-service-div').hidden = false;
        }

        function uploadContractService(ID) {

            var RegistrationForm = $('#contract-service-file-upload')[0].files[0];
            var formData = new FormData();
            formData.append('Id', ID);
            formData.append('Contract', RegistrationForm);
            var xhr = new XMLHttpRequest();
             document.getElementById('contract-service-div').hidden = true;
            xhr.open("POST", "Linguist/UploadContract", true);
            xhr.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {

                    if (document.getElementById('contract-service-file-div').hidden == true) {
                        document.getElementById('contract-service-file-div').hidden = false;
                    }
                    if (document.getElementById('contract-service-no-file-div').hidden == false) {
                        document.getElementById('contract-service-no-file-div').hidden = true;
                    }

                    //document.getElementById('contract-service-div').hidden = true;
                    document.getElementById('contract-service-file-upload').value = "";

                    var response = xhr.responseText;
                    var NDAPath = response.split("$")[0];
                    var NDAName = response.split("$")[1];

                    document.getElementById('contract-service-file-tag').innerHTML = NDAName;
                    document.getElementById('contract-service-file-tag').href = NDAPath;



                }
                else {

                }
            };

            xhr.send(formData);
        }
        function showUploadVendorContract() {
            document.getElementById('vendor-contract-div').hidden = false;
        }

        function uploadVendorContract(ID) {

            var VendorContract = $('#vendor-contract-file-upload')[0].files[0];
            var formData = new FormData();
            formData.append('Id', ID);
            formData.append('VendorContract', VendorContract);
            var xhr = new XMLHttpRequest();
            document.getElementById('vendor-contract-div').hidden = true;
            xhr.open("POST", "Linguist/UploadVendorContract", true);
            xhr.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {

                    if (document.getElementById('vendor-contract-file-div').hidden == true) {
                        document.getElementById('vendor-contract-file-div').hidden = false;
                    }
                    if (document.getElementById('vendor-contract-no-file-div').hidden == false) {
                        document.getElementById('vendor-contract-no-file-div').hidden = true;
                    }

                    //document.getElementById('vendor-contract-div').hidden = true;
                    document.getElementById('vendor-contract-file-upload').value = "";

                    var response = xhr.responseText;
                    var VendorContractPath = response.split("$")[0];
                    var VendorContractName = response.split("$")[1];

                    document.getElementById('vendor-contract-file-tag').innerHTML = VendorContractName;
                    document.getElementById('vendor-contract-file-tag').href = VendorContractPath;



                }
                else {

                }
            };

            xhr.send(formData);
        }

        function checkType() {

            var type = @Html.Raw(Json.Serialize(Model.SupplierTypeId));
            var updatedType = $('select[name="@(nameof(Model.SupplierTypeId))"]').find(':selected').val();
            if (type == "1" && updatedType == "2") {
                document.getElementById('company-div').hidden = false;
            }

        }

        function policeChecks(sourcepath) {

            var loggedInEmployee = @Html.Raw(Json.Serialize(Model.LoggedInEmployee));
            var lingCheckDetails = @Html.Raw(Json.Serialize(Model.linguisticSupplierPoliceCheckDetails));
            var checks = @Html.Raw(Json.Serialize(Model.LinguistPoliceChecks));
            // Find a <table> element with id="myTable":
            var table = document.getElementById("policeCheckTable");
            table.style.visibility = "visible";

            for (var item of lingCheckDetails) {

                    // Create an empty <tr> element and add it to the 1st position of the table:
                    var row = table.insertRow();

                    // Insert new cells (<td> elements) at the 1st and 2nd position of the "new" <tr> element:
                    var cell1 = row.insertCell(0);
                    cell1.style = "text-align:center"
                    var cell2 = row.insertCell(1);
                    cell2.style = "text-align:center"
                    var cell3 = row.insertCell(2);
                cell3.style = "text-align:center"
                if (loggedInEmployee.teamId == 12 || loggedInEmployee.id == 1246) {
                    //debugger;
                    var cell4 = row.insertCell(3);
                    cell4.style = "text-align:center"
                }
                    // Add some text to the new cells:
                for (var data of checks) {
                    if (data.id == item.policeCheckId) {
                        cell1.innerHTML = data.name;



                        cell2.innerHTML = item.policeCheckIssueDate.split('T')[0];
                        cell3.innerHTML = item.policeCheckExpiryDate.split('T')[0];
                        if (loggedInEmployee.teamId == 12 || loggedInEmployee.id == 1246) {
                            cell4.innerHTML = "<font style='opacity:0;font-size:1px;'>$" + item.policeCheckId + "," + item.policeCheckIssueDate + "," + item.policeCheckExpiryDate + "$</font>";
                        }

                    }
                }

                }


            var addPoliceCheckButton = document.getElementById("addPoliceCheckButton");
            addPoliceCheckButton.blur();

        }

        function addPoliceChecks(sourcepath) {
            try {
                event.preventDefault();
            } catch (er) {
                alert(er);
            }


            var policeCheck = document.getElementById('police-check-select');
            var issuedDate = document.getElementById('issued-datepicker');
            var ExpireDate = document.getElementById('expiry-datepicker');
            //debugger;
            if (policeCheck.value == 0) {
                document.getElementById('policeCheckRequired').hidden = false;
                var addPoliceCheckButton = document.getElementById("addPoliceCheckButton");
                addPoliceCheckButton.blur();
                return;
            }
            // Find a <table> element with id="myTable":
            var table = document.getElementById("policeCheckTable");
            table.style.visibility = "visible";

            for (var pcOption of policeCheck.options) {
                if (pcOption.selected) {
                    // Create an empty <tr> element and add it to the 1st position of the table:
                    var row = table.insertRow();

                    // Insert new cells (<td> elements) at the 1st and 2nd position of the "new" <tr> element:
                    var cell1 = row.insertCell(0);
                    cell1.style = "text-align:center"
                    var cell2 = row.insertCell(1);
                    cell2.style = "text-align:center"
                    var cell3 = row.insertCell(2);
                    cell3.style = "text-align:center"
                    var cell4 = row.insertCell(3);
                    cell4.style = "text-align:center"

                    // Add some text to the new cells:
                    cell1.innerHTML = pcOption.innerText;
                    cell2.innerHTML = issuedDate.value;
                    cell3.innerHTML = ExpireDate.value;
                    cell4.innerHTML = "<img id='row" + row.rowIndex + "' src='/img/NoEntrySign.png' title='Remove' alt='Remove' style='height: 30px;' onclick=(removeRow(" + row.rowIndex + "))><font style='opacity:0;font-size:1px;'>$" + pcOption.value + "," + issuedDate.value + "," + ExpireDate.value + "$</font>";
                    document.getElementById('policeCheckRequired').hidden = true;


                }

            }
            var addPoliceCheckButton = document.getElementById("addPoliceCheckButton");
            addPoliceCheckButton.blur();

        }

        function removeRow(rowIndex) {
            var table = document.getElementById("policeCheckTable");

            var imgrow = document.getElementById("row" + rowIndex);
            var row = imgrow.parentElement.parentElement;
            table.deleteRow(row.rowIndex);

        }
    </script>
}
